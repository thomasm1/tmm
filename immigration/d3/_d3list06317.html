 

<!DOCTYPE html><meta charset="utf-8">

<html>

<head>

 

<script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>

 <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>

<!--calling data.csv for x, y, z
 

-->





 

<script>

//  1  parseFloat

	var myNumber = 5;

	var myString = "5";

	var myParsedNumber = parseFloat(myString);

   	console.log(myNumber + myParsedNumber);

</script>



<script> 

 // 2 function

function squaree(x) {

return x * x;

}

      console.log(squaree(5));

</script>

 

<script>  

    var myArray = [       { x: 10, y:100},

       { x: 120, y:120},

       { x: 180, y:180},

       { x: 150, y:41},

];



myArray.forEach(function (d) { 

	console.log(d.x + ", " + d.y);

});

</script>

 

<script>

// 4  csv import

d3.csv("data.csv", function (myArray) {

myArray.forEach(function (d) {

 console.log(d.x + ", " + d.y + ", " + d.z); 

	});

	});

</script>

    



<script>

// 5  csv import , parse , then add

d3.csv("data.csv", type, function (myArray) {

myArray.forEach(function (d) {

 console.log(d.x  + d.y + d.z); 

	});

	});

function type(d) {

        d.x = parseFloat(d.x);

        d.y = +d.y;

        d.z = +d.z;

        return d;

}

</script>

    

<script>

// 6 scale.linear and scale.ordinal

var scalelinear = d3.scale.linear();

        scalelinear.domain([0,1]);  // data space

        scalelinear.range([0,100]); // Pixel space

 console.log(scalelinear(0)); // printz 0

 console.log(scalelinear(0.5)); // printz 50

console.log(scalelinear(1)); // printz 100

 	//	console.log(scale.range()); // getter function, it returns the array



  

var scaleordinal = d3.scale.ordinal()

        .domain(["A", "B", "C"])

        .range(["apple", "banana", "coconut"]);    

 console.log(scaleordinal("A")); // printz  apple

 	console.log(scaleordinal("B")); // printz  banana

 	console.log(scaleordinal("C")); // printz  coconut

var scaleordinal2 = d3.scale.ordinal()

        .domain(["A", "B", "C"])

        .rangePoints([70,100]);    

 console.log(scaleordinal2("A")); // printz  apple

 console.log(scaleordinal2("B")); // printz  banana

 console.log(scaleordinal2("C")); // printz  coconut

</script>

 

<svg width="250" height="250"> 

    // 7 svg

<rect x="50" y="50" width="20" height="20"></rect>  // rect #1

  

<script>

    // 8 svg rect #2

var svg = d3.select("body").append("svg");  

    svg.attr("width", 250);

    svg.attr("height", 250);

    

var rect = svg.append("rect");

    rect.attr("x", 50);

    rect.attr("y", 50);

    rect.attr("width", 20);

    rect.attr("height", 20);  

</script>



<script>

        // 9 Binding data to svg rect #2

var data = [1, 2, 3, 4, 5];



var scale = d3.scale.linear()

.domain([1, 5]) //data

.range([0, 200]); // pixels



var svg = d3.select("body").append("svg")

.attr("width", 250)

.attr("height", 250);



svg.selectAll("rect")

    .data(data)

    .enter().append("rect")

    .attr("x", function (d){ return scale(d); })

    .attr("y", 50)

    .attr("width", 20)

    .attr("height", 20);

</script>

    

<script>

    // 10 Coloring data

var scale = d3.scale.linear()

.domain([1, 5]) //data

.range([0, 200]); // pixels



var svg = d3.select("body").append("svg")

    .attr("width", 250)

    .attr("height", 250);



    function render(data, color){

var rects = svg.selectAll("rect").data(data);

rects.enter().append("rect")

    .attr("x", scale)

    .attr("y", 50)

    .attr("width", 20)

    .attr("height", 20)

    .attr("fill", color);        

}

    render([1,2,3], "red");

    render([1,2,3,4,5], "blue");

</script>

    

<script>

    // 11 Update continuous

var scale = d3.scale.linear()

.domain([1, 5]) //data

.range([0, 200]); // pixels



var svg = d3.select("body").append("svg")

    .attr("width", 250)

    .attr("height", 250);


  function render(data, color){

// Bind data

var rects = svg.selectAll("rect").data(data);

// Enter create

rects.enter().append("rect")

    .attr("y", 50)

    .attr("width", 20)

    .attr("height", 20)

// Update 

rects

    .attr("x", scale)

    .attr("fill", color);        

}

   render([1,2,3], "red");

   render([1,2,3,4,5], "blue");

  render([1,2], "green");

</script>

<script>

    // 12 Update & Exit

var scale = d3.scale.linear()

.domain([1, 5]) //data

.range([0, 200]); // pixels



var svg = d3.select("body").append("svg")

    .attr("width", 250)

    .attr("height", 250);



  function render(data, color){

// Bind data

var rects = svg.selectAll("rect").data(data);

// Enter create

rects.enter().append("rect")

    .attr("y", 50)

    .attr("width", 20)

    .attr("height", 20)

// Update 

rects

    .attr("x", scale)

    .attr("fill", color);        

// Exit 

rects.exit().remove();

}

    setTimeout( function () {    render([1,2,3], "red");  }, 500);

    setTimeout( function () {    render([1,4,5], "silver");  }, 6000);

    setTimeout( function () {    render([1,2,3], "red");  }, 700);

    setTimeout( function () {    render([1,2,3,4,5], "blue");  }, 1000);

    setTimeout( function () {    render([1,2,4,5], "purple");  }, 1500);

    setTimeout( function () {    render([1,2,3], "silver");  }, 2000);

    setTimeout( function () {    render([1,2,3], "red");  }, 2500);

    setTimeout( function () {    render([1,2,3,4,5], "blue");  }, 3000);

</script>

<!-- /d3/_SVGExample.html
	<link href='http://fonts.googleapis.com/css?family=Poiret+One' rel='stylesheet' type='text/css'> 

	<script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script> 

 



    <style>

      .my-text {

        font-size: 3em;

        font-family: 'Poiret One', cursive;

      }

    </style>

 <style>



      text {

        font-size: 1.5em;

      }



    </style>
 	

	 <svg>

      <rect width="100" height="100"></rect>

    </svg>

	 <svg>

      <rect width="250" height="250"></rect>

    </svg>

	

	<svg width="250" height="250">

      <rect width="250" height="250"></rect>

    </svg>

		<svg width="250" height="250">

      <rect x="50" y="50" width="20" height="20"></rect>

    </svg>

	<svg width="250" height="250">

      <rect x="0"   y="0" width="100" height="100" fill="red"></rect>

      <rect x="120" y="0" width="100" height="100" fill="green"></rect>

      <rect x="0" y="120" width="100" height="100" fill="blue"></rect>

    </svg>

	 <svg width="250" height="250">

      <rect x="0"   y="0"   width="100" height="100" fill="rgb(255, 0, 0)"></rect>

      <rect x="120" y="0"   width="100" height="100" fill="rgb(0, 255, 0)"></rect>

      <rect x="0"   y="120" width="100" height="100" fill="rgb(0, 0, 255)"></rect>

      <rect x="120" y="120" width="100" height="100" fill="rgb(100, 50, 200)"></rect>

    </svg>

	<svg width="250" height="250">

      <rect x="50" y="50" width="150" height="150"

            fill="red" stroke="black" ></rect>

    </svg>

<svg width="250" height="250">

      <rect x="50" y="50" width="150" height="150"

            fill="red" stroke="black" stroke-width="10"></rect>

    </svg>

 <svg width="250" height="250">



      <rect x="50" y="50" width="100" height="100"

            fill="none" stroke="red" stroke-width="10"></rect>



      <rect x="100" y="100" width="100" height="100"

            fill="none" stroke="blue" stroke-width="10"></rect>



    </svg>

	<svg width="250" height="250">

      <circle r="250"></circle>

    </svg>

	<svg width="250" height="250">



      <line x1="50"  y1="50"  x2="100" y2="150" stroke="black" stroke-width="10"></line>

      <line x1="100" y1="150" x2="150" y2="100" stroke="black" stroke-width="10"></line>

      <line x1="150" y1="100" x2="200" y2="150" stroke="black" stroke-width="10"></line>



    </svg>

	<svg width="250" height="250">



      <rect x="0"  y="0"   width="50"  height="200" fill="gray"/>

      <rect x="50" y="200" width="200" height="50"  fill="gray"/>



      <circle cx="0"   cy="0"   r="10"/>

      <circle cx="100" cy="100" r="10"/>

      <circle cx="130" cy="120" r="10"/>

      <circle cx="80"  cy="180" r="10"/>

      <circle cx="180" cy="80"  r="10"/>

      <circle cx="180" cy="40"  r="10"/>



    </svg>

	<svg width="250" height="250">



      <rect x="0"  y="0"   width="50"  height="200" fill="gray"/>

      <rect x="50" y="200" width="200" height="50"  fill="gray"/>



      <g transform="translate(50, 0)">

        <rect x="5"   y="0"   width="40" height="200"/>

        <rect x="55"  y="50"  width="40" height="150"/>

        <rect x="105" y="100" width="40" height="100"/>

        <rect x="155" y="150" width="40" height="50"/>

      </g>



    </svg>

	<svg width="250" height="250">



      <rect x="0"  y="0"   width="50"  height="200" fill="gray"/>

      <rect x="50" y="200" width="200" height="50"  fill="gray"/>



      <g transform="translate(50, 0)">

        <path d="M0 200 L50 50 L100 150 L150 100 L200 150"

              fill="none" stroke="black" stroke-width="10"></path>

      </g>



    </svg>

	  <svg width="250" height="250">

      <text class="my-text" x="50" y="50">Hello SVG Text!</text>

    </svg>

	 <script>

      var myNumber = 5;

      console.log(myNumber);

    </script>

	<script>

      var myArray = [1, 2, 3];

      console.log(myArray);

      console.log("Index 0: " + myArray[0]);

      console.log("Index 1: " + myArray[1]);

      console.log("Index 3: " + myArray[myArray.length - 1]);

    </script>

	 <script>



      var outerWidth = 300;

      var outerHeight = 250;

      var rMin = 5; // "r" stands for radius

      var rMax = 20;

      var xColumn = "sepal_length";

      var yColumn = "petal_length";

      var rColumn = "sepal_width";



      var svg = d3.select("body").append("svg")

        .attr("width", outerWidth)

        .attr("height", outerHeight);



      var xScale = d3.scale.linear().range([0, outerWidth]);

      var yScale = d3.scale.linear().range([outerHeight, 0]);

      var rScale = d3.scale.linear().range([rMin, rMax]);



      function render(data){

        xScale.domain(d3.extent(data, function (d){ return d[xColumn]; }));

        yScale.domain(d3.extent(data, function (d){ return d[yColumn]; }));

        rScale.domain(d3.extent(data, function (d){ return d[rColumn]; }));



        var circles = svg.selectAll("circle").data(data);

        circles.enter().append("circle");

        circles

          .attr("cx", function (d){ return xScale(d[xColumn]); })

          .attr("cy", function (d){ return yScale(d[yColumn]); })

          .attr("r",  function (d){ return rScale(d[rColumn]); });

        circles.exit().remove();

      }



      function type(d){

        d.sepal_length = +d.sepal_length;

        d.sepal_width  = +d.sepal_width;

        d.petal_length = +d.petal_length;

        d.petal_width  = +d.petal_width;

        return d;

      }



      d3.csv("iris.csv", type, render);



    </script>

	 <script>



      var outerWidth = 300;

      var outerHeight = 250;

      var circleRadius = 2;

      var xColumn = "population";

      var yColumn = "gdp";



      var svg = d3.select("body").append("svg")

        .attr("width",  outerWidth)

        .attr("height", outerHeight);



      var xScale = d3.scale.linear().range([0, outerWidth]);

      var yScale = d3.scale.linear().range([outerHeight, 0]);



      function render(data){

        xScale.domain(d3.extent(data, function (d){ return d[xColumn]; }));

        yScale.domain(d3.extent(data, function (d){ return d[yColumn]; }));



        var circles = svg.selectAll("circle").data(data);

        circles.enter().append("circle");

        circles

          .attr("cx", function (d){ return xScale(d[xColumn]); })

          .attr("cy", function (d){ return yScale(d[yColumn]); })

          .attr("r", circleRadius);



        circles.exit().remove();

      }



      function type(d){

        d.population = +d.population;

        d.gdp        = +d.gdp;

        return d;

      }



      d3.csv("countries_population_GDP.csv", type, render);



    </script>

	 <script>



      var outerWidth = 500;

      var outerHeight = 250;

      var circleRadius = 3;

      var margin = { left: 30, top: 30, right: 30, bottom: 30 };



      var xColumn = "timestamp";

      var yColumn = "temperature";



      var svg = d3.select("body").append("svg")

        .attr("width",  outerWidth)

        .attr("height", outerHeight);

      var g = svg.append("g")

        .attr("transform", "translate(" + margin.left + "," + margin.top + ")");



      var innerWidth  = outerWidth  - margin.left - margin.right;

      var innerHeight = outerHeight - margin.top  - margin.bottom;



      var xScale = d3.time.scale().range([0, innerWidth]);

      var yScale = d3.scale.linear().range([innerHeight, 0]);



      function render(data){



        xScale.domain( d3.extent(data, function (d){ return d[xColumn]; }));

        yScale.domain( d3.extent(data, function (d){ return d[yColumn]; }));



        var circles = g.selectAll("circle").data(data);

        circles.enter().append("circle")

          .attr("r", circleRadius);

        circles

          .attr("cx", function (d){ return xScale(d[xColumn]); })

          .attr("cy", function (d){ return yScale(d[yColumn]); });

        circles.exit().remove();

      }



      function type(d){

        d.timestamp = new Date(d.timestamp);

        d.temperature = +d.temperature;

        return d;

      }



      d3.csv("week_temperature_sf.csv", type, render);



    </script>

-->
Dimple Example:
 <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://dimplejs.org/dist/dimple.v2.0.0.min.js"></script>
      <style>
        h2 {
          color: black;
          text-align: center;
        }

        .axis {
          font-family: arial;
          font-size: 0.6em;
        }

        path {
          fill: none;
          stroke: black;
          stroke-width: 2px;
        }

        .tick {
          fill: none;
          stroke: black;
        }

        circle {
          opacity: 0.4;
          stroke: none;
        }

        .line_plot {
          fill: none;
          stroke: #4eb0bb;
          stroke-width: 1px;
        }
      </style>

    <script type="text/javascript">
      format = d3.time.format("%d-%m-%Y (%H:%M h)");

      function draw(data) {

          /*
          D3.js setup code
          */

          "use strict";
          var margin = 75,
              width = 1400 - margin,
              height = 600 - margin;

          var radius = 3,
              multiplier = 2;

          d3.select("body")
              .append("h2")
              .text("World Cup Attendance");

          var svg = d3.select("body")
              .append("svg")
              .attr("width", width + margin)
              .attr("height", height + margin)
              .append('g')
              .attr('class', 'chart');

          /*
          Dimple.js Chart construction code
          */

          d3.select('svg')
              .selectAll("circle")
              .data(data)
              .enter()
              .append("circle")

          var time_extent = d3.extent(data, function(d) {
                debugger;
        
              return d['date'];
          });

          var time_scale = d3.time.scale()
              .range([margin, width])
              .domain(time_extent);

          var count_extent = d3.extent(data, function(d) {
              return d['attendance'];
          });

          var count_scale = d3.scale.linear()
              .range([height, margin])
              .domain(count_extent);

          var time_axis = d3.svg.axis()
              .scale(time_scale)
              .ticks(d3.time.years, 2);

          d3.select("svg")
              .append('g')
              .attr('class', 'x axis')
              .attr('transform', "translate(0," + height + ")")
              .call(time_axis);

          var count_axis = d3.svg.axis()
              .scale(count_scale)
              .orient("left");

          d3.select("svg")
              .append('g')
              .attr('class', 'y axis')
              .attr('transform', "translate(" + margin + ",0)")
              .call(count_axis);

          d3.selectAll('circle')
              .attr('cx', function(d) {
                  return time_scale(d['date']);
              })
              .attr('cy', function(d) {
                  return count_scale(d['attendance']);
              })
              .attr('r', function(d) {
                  if (d['home'] === d['team1'] || d['home'] === d['team2']) {
                      return radius * multiplier;
                  } else {
                      return radius;
                  }
              })
              .attr('fill', function(d) {
                  if (d['home'] === d['team1'] || d['home'] === d['team2']) {
                      return 'red'
                  } else {
                      return 'blue';
                  }
              });

          var legend = svg.append("g")
              .attr("class", "legend")
              .attr("transform", "translate(" + (width - 100) + "," + 20 + ")")
              .selectAll("g")
              .data(["Home Team", "Others"])
              .enter().append("g");

          legend.append("circle")
              .attr("cy", function(d, i) {
                  return i * 30;
              })
              .attr("r", function(d) {
                  if (d == "Home Team") {
                      return radius * multiplier;
                  } else {
                      return radius;
                  }
              })
              .attr("fill", function(d) {
                  if (d == "Home Team") {
                      return 'red';
                  } else {
                      return 'blue';
                  }
              });

          legend.append("text")
              .attr("y", function(d, i) {
                  return i * 30 + 5;
              })
              .attr("x", radius * 5)
              .text(function(d) {
                  return d;
              });

      };
    </script>
 <script type="text/javascript">
  /*
    Use D3 (not dimple.js) to load the TSV file
    and pass the contents of it to the draw function
    */
  d3.tsv("world_cup_geo.tsv", function(d) {
        d['attendance'] = +d["attendance"];
        d['date'] = format.parse(d['date']);
        return d;
    }, draw);
  </script>

<!-- d3/_dimpleExample.html
<script src="http://d3js.org/d3.v3.min.js"></script>
  <script src="http://dimplejs.org/dist/dimple.v2.0.0.min.js"></script>
	<style type="text/css" >
circle.dimple-series-1 {
	fill:red;
	}
h2 {text-align: center;
}
	</style>
    <script type="text/javascript">
      function draw(data) {
      
      /*
        D3.js setup code
      */

          "use strict";
          var margin = 75,
              width = 1400 - margin,
              height = 600 - margin;
	
	d3.select('body')
.append('h2')
.text("World Cup Attendance");

          var svg = d3.select("body")
            .append("svg")
              .attr("width", width + margin)
              .attr("height", height + margin)
            .append('g')
                .attr('class','chart');

      /*
     1   Dimple.js Chart construction code
   
          var myChart = new dimple.chart(svg, data);
          var x = myChart.addTimeAxis("x", "year"); 
          myChart.addMeasureAxis("y", "attendance");
	x.dateParseFormat = "%Y";
	x.tickFormat = "%Y";
	x.timeInterval = 4;
          myChart.addSeries(null, dimple.plot.bar);
          myChart.draw();
        };
    */
 /*
      2 Dimple.js Chart construction code
   
          var myChart = new dimple.chart(svg, data);
          var x = myChart.addTimeAxis("x", "year"); 
          myChart.addMeasureAxis("y", "attendance");
	x.dateParseFormat = "%Y";
	x.tickFormat = "%Y";
	x.timeInterval = 4;
          myChart.addSeries(null, dimple.plot.scatter);
          myChart.draw();
        };
    */
  var myChart = new dimple.chart(svg, data);
          var x = myChart.addTimeAxis("x", "year"); 
          myChart.addMeasureAxis("y", "attendance");
  	 x.dateParseFormat = "%Y";  
 	x.tickFormat = "%Y";    
	x.timeInterval = 4;
          myChart.addSeries(null, dimple.plot.line);
          myChart.draw();
        };
      </script>
  </head>
<body>
  <script type="text/javascript">
  /*
    Use D3 (not dimple.js) to load the TSV file
    and pass the contents of it to the draw function
    */
  d3.tsv("world_cup.tsv", draw);
  </script>
-->
d3/_d3v3barchartExample.html

<style>
    div {
        margin-bottom:10px;
        float:left;
    }
 
<style>

.chart rect {
  fill: blue;
}

.chart text {
  fill: white;
  font: 10px sans-serif;
  text-anchor: end;
}

</style>
<svg class="chart"></svg>
<script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script>

var width = 420,
    barHeight = 20;

var x = d3.scale.linear()
    .range([0, width]);

var chart = d3.select(".chart")
    .attr("width", width);

d3.tsv("data1.tsv", type, function(error, data) {
  x.domain([0, d3.max(data, function(d) { return d.value; })]);

  chart.attr("height", barHeight * data.length);

  var bar = chart.selectAll("g")
      .data(data)
    .enter().append("g")
      .attr("transform", function(d, i) { return "translate(0," + i * barHeight + ")"; });

  bar.append("rect")
      .attr("width", function(d) { return x(d.value); })
      .attr("height", barHeight - 1);

  bar.append("text")
      .attr("x", function(d) { return x(d.value) - 3; })
      .attr("y", barHeight / 2)
      .attr("dy", ".35em")
      .text(function(d) { return d.value; });
});

function type(d) {
  d.value = +d.value; // coerce to number
  return d;
}

</script>
<!-- _exD3parsing.html

<script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
<link href="https://fonts.googleapis.com/css?family=Arimo|Merriweather|Poppins" rel="stylesheet">
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">  
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

 
  
 </head>

 

<body>

<script>


function importData ()
{
	d3.json("json.json", function (data) {


})
}
 
</script>


<!--
<script>

function importData ()
{

	var canvas = d3.select(".dataContainer").append("svg")
		.attr("width", 1000)
		.attr("height",700);
 
	canvas.selectAll("rect")
		.data(data)
		.enter()
		.append("rect")
		.attr("width", function (d)
	{
		return d.rank * 60;
	})
		.attr("height", 50)
		.attr("y", function (d,i)
	{
		return i * 80
	})
		.attr("fill", "red");
	
	canvas.selectAll("text")
		.data(data)
		.enter()
		.append("text")
		.attr("fill", "#ffffff")
		.attr("y", function (d, i)
	{
		return i * 80 * 25;
	})
	.attr("x", 5)
	.text(function (d)
	{
		return d.name + " rank: " + d.rank;
})
})
}
 
 </script>

 
<h4 style="float:right;color:blue;margin-right:300px;margin-top:20px;border:solid 1px blue;padding:5px;"><a style="text-decoration:none;" href="../index.html">

back to TMM</a></h4>
-->
    
    
<!--_exd3ajaxfetch

    <title>CSV --D3 Ajax Fetch
author
https://github.com/curran/screencasts</title>
    



    <script src="http://d3js.org/d3.v3.min.js"></script>
  </head>
  <body>
    <script>

      // This function fetches a file using AJAX.
      // 

      // The given callback is invoked when the request finishes.

      // 

      // The callback signature is callback(err, data) where:
      //  * "err" is an error object, or null if no error occurred.
      //  * "data" is the content of the loaded file as a string.
      //
      // This follows the "error-first" callback convention for asynchronous programming.
      // See http://thenodeway.io/posts/understanding-error-first-callbacks/

      function getFile(fileName, callback){
        var xhr = new XMLHttpRequest(),
            DONE = 4; // readyState 4 means the request is done.
            OK = 200; // status 200 is a successful return.
        xhr.open("get", fileName);
        xhr.onreadystatechange = function () {
          if (xhr.readyState === DONE) {
            if (xhr.status === OK) {
              callback(null, xhr.responseText);
            } else {
              callback(xhr.status);
            }
          }
        };
        xhr.send(null);
      }
      // Parses a CSV string into an array of objects.
      // Similar to d3.csv.parse(), documented at
      // github.com/mbostock/d3/wiki/CSV#parse
        
      function parseCSV(csvString, accessor){
            // Handle accessor as an optional argument.
        accessor = accessor || function(d){ return d; };
        var lines = csvString.split("\n"),
            columnNames = lines[0].split(","),
            rows = lines.slice(1);
        return rows.map(function(row){
          var entries = row.split(","),
              rowObject = {};
          columnNames.forEach(function(columnName, i){
            rowObject[columnName] = entries[i];
          });
          return accessor(rowObject);
        });
      } 

      // Fetch the CSV file using AJAX.

      getFile("iris.csv", function(err, irisCSVString){
        if(err){
          alert("Could not load file");
        } else {
          // Parse the CSV string into an array of objects.
          var parsedCSV = parseCSV(irisCSVString, function(rowObject){
            // Parse strings into numbers for numeric columns.
            rowObject["petal length"] = +rowObject["petal length"];
            rowObject["petal width"] = +rowObject["petal width"];
            rowObject["sepal length"] = +rowObject["sepal length"];
            rowObject["sepal width"] = +rowObject["sepal width"];
            return rowObject;
          });

          console.log(parsedCSV);
        }
      });
 
    </script>
-->

// _d3jsonExample.html import json


<script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
<link href="https://fonts.googleapis.com/css?family=Arimo|Merriweather|Poppins" rel="stylesheet">
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">  
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

  
<script>


function importData ()
{
	d3.json("json.json", function (data) {


})
}
 
</script>


 
<script>

function importData ()
{

	var canvas = d3.select(".dataContainer").append("svg")
		.attr("width", 1000)
		.attr("height",700);
 
	canvas.selectAll("rect")
		.data(data)
		.enter()
		.append("rect")
		.attr("width", function (d)
	{
		return d.rank * 60;
	})
		.attr("height", 50)
		.attr("y", function (d,i)
	{
		return i * 80
	})
		.attr("fill", "red");
	
	canvas.selectAll("text")
		.data(data)
		.enter()
		.append("text")
		.attr("fill", "#ffffff")
		.attr("y", function (d, i)
	{
		return i * 80 * 25;
	})
	.attr("x", 5)
	.text(function (d)
	{
		return d.name + " rank: " + d.rank;
})
})
}
 
 </script>


<h4 style="float:right;color:blue;margin-right:300px;margin-top:20px;border:solid 1px blue;padding:5px;"><a style="text-decoration:none;" href="../index.html">

back to TMM</a></h4>
<!-- planet.html : upper cogs, internal data

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../js/analytics.js','ga'); 
  ga('create', 'UA-71584977-1', 'auto');
  ga('send', 'pageview');
</script>

<script src="https://d3js.org/d3.v4.min.js"></script>
<link href="http://www.w3.org/TR/css3-transitions/" >

<title>planets</title>
 </head>
<body>

<h4 style="float:right;color:blue;margin-right:300px;margin-top:20px;border:solid 1px blue;padding:5px;"><a style="text-decoration:none;" href="../index.html">
back to TMM</a></h4>
<br />


<style>



body {

  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;

  width: 960px;

  height: 500px;

  position: relative;

}



form {

  position: absolute;

  top: 1em;

  left: 1em;

}



path {

  fill-rule: evenodd;

  stroke: #333;

  stroke-width: 2px;

}



.sun path {

  fill: #6baed6;

}



.planet path {

  fill: #9ecae1;

}



.annulus path {

  fill: #c6dbef;

}



</style>

<form>

  <input type="radio" name="reference" id="ref-annulus">

  <label for="ref-annulus">Annulus</label><br>

  <input type="radio" name="reference" id="ref-planet" checked>

  <label for="ref-planet">Planets</label><br>

  <input type="radio" name="reference" id="ref-sun">

  <label for="ref-sun">Sun</label>

</form>

<script src="https://d3js.org/d3.v4.min.js"></script>

<script>



var width = 960,

    height = 500,

    radius = 80,

    x = Math.sin(2 * Math.PI / 3),

    y = Math.cos(2 * Math.PI / 3);



var offset = 0,

    speed = 4,

    start = Date.now();



var svg = d3.select("body").append("svg")

    .attr("width", width)

    .attr("height", height)

  .append("g")

    .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")scale(.55)")

  .append("g");



var frame = svg.append("g")

    .datum({radius: Infinity});



frame.append("g")

    .attr("class", "annulus")

    .datum({teeth: 80, radius: -radius * 5, annulus: true})

  .append("path")

    .attr("d", gear);



frame.append("g")

    .attr("class", "sun")

    .datum({teeth: 16, radius: radius})

  .append("path")

    .attr("d", gear);



frame.append("g")

    .attr("class", "planet")

    .attr("transform", "translate(0,-" + radius * 3 + ")")

    .datum({teeth: 32, radius: -radius * 2})

  .append("path")

    .attr("d", gear);



frame.append("g")

    .attr("class", "planet")

    .attr("transform", "translate(" + -radius * 3 * x + "," + -radius * 3 * y + ")")

    .datum({teeth: 32, radius: -radius * 2})

  .append("path")

    .attr("d", gear);



frame.append("g")

    .attr("class", "planet")

    .attr("transform", "translate(" + radius * 3 * x + "," + -radius * 3 * y + ")")

    .datum({teeth: 32, radius: -radius * 2})

  .append("path")

    .attr("d", gear);



d3.selectAll("input[name=reference]")

  .data([radius * 5, Infinity, -radius])

    .on("change", function(radius1) {

      var radius0 = frame.datum().radius, angle = (Date.now() - start) * speed;

      frame.datum({radius: radius1});

      svg.attr("transform", "rotate(" + (offset += angle / radius0 - angle / radius1) + ")");

    });



d3.selectAll("input[name=speed]")

    .on("change", function() { speed = +this.value; });



function gear(d) {

  var n = d.teeth,

      r2 = Math.abs(d.radius),

      r0 = r2 - 8,

      r1 = r2 + 8,

      r3 = d.annulus ? (r3 = r0, r0 = r1, r1 = r3, r2 + 20) : 20,

      da = Math.PI / n,

      a0 = -Math.PI / 2 + (d.annulus ? Math.PI / n : 0),

      i = -1,

      path = ["M", r0 * Math.cos(a0), ",", r0 * Math.sin(a0)];

  while (++i < n) path.push(

      "A", r0, ",", r0, " 0 0,1 ", r0 * Math.cos(a0 += da), ",", r0 * Math.sin(a0),

      "L", r2 * Math.cos(a0), ",", r2 * Math.sin(a0),

      "L", r1 * Math.cos(a0 += da / 3), ",", r1 * Math.sin(a0),

      "A", r1, ",", r1, " 0 0,1 ", r1 * Math.cos(a0 += da / 3), ",", r1 * Math.sin(a0),

      "L", r2 * Math.cos(a0 += da / 3), ",", r2 * Math.sin(a0),

      "L", r0 * Math.cos(a0), ",", r0 * Math.sin(a0));

  path.push("M0,", -r3, "A", r3, ",", r3, " 0 0,0 0,", r3, "A", r3, ",", r3, " 0 0,0 0,", -r3, "Z");

  return path.join("");

}



d3.timer(function() {

  var angle = (Date.now() - start) * speed,

      transform = function(d) { return "rotate(" + angle / d.radius + ")"; };

  frame.selectAll("path").attr("transform", transform);

  frame.attr("transform", transform); // frame of reference

});



</script>


<h4>csv import</h4>
<script>
	d3.csv("../docu/csv.csv", function (data) {
	
	var canvas = d3.select("body").append("svg")
	.attr("width", 500)
	.attr("height", 500)
	
	canvas.selectAll("rect")
	.data(data)
	.enter()
		.append("rect")
		.attr("width", function (d) { return d.id * 110; })
		.attr("height", 48)
		.attr("y", function (d, i) { return i * 50; })
		.attr("fill", "blue")
	
	canvas.selectAll("text")
	.data(data)
	.enter()
		.append("text")
		.attr("fill", "white")
		.attr("y", function (d, i) { return i * 50 + 24; })
		.text(function (d) { return d.name; })

	})
 
</script><h4>
internal data</h4>
	<script>
var data1 = [
[0, 80], 
[100, 90], 
[200, 80], 
[300, 60], 
[400, 70],
[500, 80]
];

// var lineGenerator = d3.line();
// var pathString = lineGenerator(data1);

d3.select('path')
	.attr('d', pathString);

	</script>
<h4>
internal data 2</h4>

<script>

	var dataArray = [20, 30, 40, 50, 7, 44, 40,  30, 40, 20, 10, 40,  30, 40, 50];

	var width = 700;
	var height = 700;

 	var widthScale = d3.scaleLinear()
		.domain([0, 60])
		.range([10, width]);
	
	var color = d3.scaleLinear()
	.domain([0, 60])
	.range(["red", "blue"]);

	var canvas = d3.select("body")
	.append("svg")
	.attr("width", width)
	.attr("height", height);

		
 
	var bars = canvas.selectAll("rect")

		.data(dataArray)

		.enter()

			.append("rect")

			.attr("width", function(d) { return widthScale(d); })

			.attr("height", 30)
			
			.attr("fill", function(d) { return color(d); })

			.attr("y", function(d, i) { return i * 50
						});



</script>
<h4>internal data 3</h4>

<script>

d3.select("body").transition()
    .duration(3000)
	.delay(400)
    .style("background-color", "silver");

var circle = canvas.append("circle")
		.attr("fill", "black")
		.attr("cx", 50)
		.attr("cy", 50)
		.attr("r", 25);

		var circle1 = canvas.append("circle")
		.attr("fill", "white")
		.attr("cx", 100)
		.attr("cy", 50)
		.attr("r", 25);


circle.transition()
			.duration(1800)
			.delay(500)
			.attr("cx", 350)
			.attr("fill", "white")
			 

circle1transition()
			.duration(1500)
			.attr("cx", 150)
			.attr("fill", "white")
			 

</script>
end of planet.html-->
// Mobile Suits

<style>



.link {

  fill: none;

  stroke: #666;

  stroke-width: 1.5px;

}



#licensing {

  fill: green;

}



.link.licensing {

  stroke: green;

}



.link.resolved {

  stroke-dasharray: 0,2 1;

}



circle {

  fill: #ccc;

  stroke: #333;

  stroke-width: 1.5px;

}



text {

  font: 10px sans-serif;

  pointer-events: none;

  text-shadow: 0 1px 0 #fff, 1px 0 0 #fff, 0 -1px 0 #fff, -1px 0 0 #fff;

}



</style>

<body>
 <h4 style="text-align:right;color:blue;margin:50px;padding:30px;"><a style="text-decoration:none;" href="../index.html">back to TMM</a></h4>
<script src="//d3js.org/d3.v3.min.js"></script>

<script>



// http://blog.thomsonreuters.com/index.php/mobile-patent-suits-graphic-of-the-day/

var links = [

  {source: "Microsoft", target: "Amazon", type: "licensing"},

  {source: "Microsoft", target: "HTC", type: "licensing"},

  {source: "Samsung", target: "Apple", type: "suit"},

  {source: "Motorola", target: "Apple", type: "suit"},

  {source: "Nokia", target: "Apple", type: "resolved"},

  {source: "HTC", target: "Apple", type: "suit"},

  {source: "Kodak", target: "Apple", type: "suit"},

  {source: "Microsoft", target: "Barnes & Noble", type: "suit"},

  {source: "Microsoft", target: "Foxconn", type: "suit"},

  {source: "Oracle", target: "Google", type: "suit"},

  {source: "Apple", target: "HTC", type: "suit"},

  {source: "Microsoft", target: "Inventec", type: "suit"},

  {source: "Samsung", target: "Kodak", type: "resolved"},

  {source: "LG", target: "Kodak", type: "resolved"},

  {source: "RIM", target: "Kodak", type: "suit"},

  {source: "Sony", target: "LG", type: "suit"},

  {source: "Kodak", target: "LG", type: "resolved"},

  {source: "Apple", target: "Nokia", type: "resolved"},

  {source: "Qualcomm", target: "Nokia", type: "resolved"},

  {source: "Apple", target: "Motorola", type: "suit"},

  {source: "Microsoft", target: "Motorola", type: "suit"},

  {source: "Motorola", target: "Microsoft", type: "suit"},

  {source: "Huawei", target: "ZTE", type: "suit"},

  {source: "Ericsson", target: "ZTE", type: "suit"},

  {source: "Kodak", target: "Samsung", type: "resolved"},

  {source: "Apple", target: "Samsung", type: "suit"},

  {source: "Kodak", target: "RIM", type: "suit"},

  {source: "Nokia", target: "Qualcomm", type: "suit"}

];



var nodes = {};



// Compute the distinct nodes from the links.

links.forEach(function(link) {

  link.source = nodes[link.source] || (nodes[link.source] = {name: link.source});

  link.target = nodes[link.target] || (nodes[link.target] = {name: link.target});

});



var width = 960,

    height = 500;



var force = d3.layout.force()

    .nodes(d3.values(nodes))

    .links(links)

    .size([width, height])

    .linkDistance(60)

    .charge(-300)

    .on("tick", tick)

    .start();



var svg = d3.select("body").append("svg")

    .attr("width", width)

    .attr("height", height);



// Per-type markers, as they don't inherit styles.

svg.append("defs").selectAll("marker")

    .data(["suit", "licensing", "resolved"])

  .enter().append("marker")

    .attr("id", function(d) { return d; })

    .attr("viewBox", "0 -5 10 10")

    .attr("refX", 15)

    .attr("refY", -1.5)

    .attr("markerWidth", 6)

    .attr("markerHeight", 6)

    .attr("orient", "auto")

  .append("path")

    .attr("d", "M0,-5L10,0L0,5");



var path = svg.append("g").selectAll("path")

    .data(force.links())

  .enter().append("path")

    .attr("class", function(d) { return "link " + d.type; })

    .attr("marker-end", function(d) { return "url(#" + d.type + ")"; });



var circle = svg.append("g").selectAll("circle")

    .data(force.nodes())

  .enter().append("circle")

    .attr("r", 6)

    .call(force.drag);



var text = svg.append("g").selectAll("text")

    .data(force.nodes())

  .enter().append("text")

    .attr("x", 8)

    .attr("y", ".31em")

    .text(function(d) { return d.name; });



// Use elliptical arc path segments to doubly-encode directionality.

function tick() {

  path.attr("d", linkArc);

  circle.attr("transform", transform);

  text.attr("transform", transform);

}



function linkArc(d) {

  var dx = d.target.x - d.source.x,

      dy = d.target.y - d.source.y,

      dr = Math.sqrt(dx * dx + dy * dy);

  return "M" + d.source.x + "," + d.source.y + "A" + dr + "," + dr + " 0 0,1 " + d.target.x + "," + d.target.y;

}



function transform(d) {

  return "translate(" + d.x + "," + d.y + ")";

}



</script>
//end mobilesuits.html
<!-- color.html

<style>



body {

  margin: 0;

}



rect {

  stroke: #fff;

  stroke-width: .1px;

}



</style>

<body>

<script src="//d3js.org/d3.v3.min.js"></script>

<script>



var w = 960,

    h = 500,

    z = 20,

    x = w / z,

    y = h / z;



var svg = d3.select("body").append("svg")

    .attr("width", w)

    .attr("height", h);



svg.selectAll("rect")

    .data(d3.range(x * y))

  .enter().append("rect")

    .attr("transform", translate)

    .attr("width", z)

    .attr("height", z)

    .style("fill", function(d) { return d3.hsl(d % x / x * 360, 1, Math.floor(d / x) / y); })

    .on("mouseover", mouseover);



function translate(d) {

  return "translate(" + (d % x) * z + "," + Math.floor(d / x) * z + ")";

}



function mouseover(d) {

  this.parentNode.appendChild(this);



  d3.select(this)

      .style("pointer-events", "none")

    .transition()

      .duration(750)

      .attr("transform", "translate(480,480)scale(23)rotate(180)")

    .transition()

      .delay(1500)

      .attr("transform", "translate(240,240)scale(0)")

      .style("fill-opacity", 0)

      .remove();

} 
</script>

 <h4 style="text-align:right;color:blue; padding:20px;"><a style="text-decoration:none;" href="../index.html">back to TMM</a></h4>
end color-->
// Dendrogram
    

<style>



.node circle {

  fill: #999;

}



.node text {

  font: 10px sans-serif;

}



.node--internal circle {

  fill: #555;

}



.node--internal text {

  text-shadow: 0 1px 0 #fff, 0 -1px 0 #fff, 1px 0 0 #fff, -1px 0 0 #fff;

}



.link {

  fill: none;

  stroke: #555;

  stroke-opacity: 0.4;

  stroke-width: 1.5px;

}



</style>

<svg width="960" height="2000"></svg>

<script src="//d3js.org/d3.v4.min.js"></script>

<script>



var svg = d3.select("svg"),

    width = +svg.attr("width"),

    height = +svg.attr("height"),

    g = svg.append("g").attr("transform", "translate(40,0)");



var tree = d3.cluster()

    .size([height, width - 160]);



var stratify = d3.stratify()

    .parentId(function(d) { return d.id.substring(0, d.id.lastIndexOf(".")); });



d3.csv("flare.csv", function(error, data) {

  if (error) throw error;



  var root = stratify(data)

      .sort(function(a, b) { return (a.height - b.height) || a.id.localeCompare(b.id); });



  tree(root);



  var link = g.selectAll(".link")

      .data(root.descendants().slice(1))

    .enter().append("path")

      .attr("class", "link")

      .attr("d", function(d) {

        return "M" + d.y + "," + d.x

            + "C" + (d.parent.y + 100) + "," + d.x

            + " " + (d.parent.y + 100) + "," + d.parent.x

            + " " + d.parent.y + "," + d.parent.x;

      });



  var node = g.selectAll(".node")

      .data(root.descendants())

    .enter().append("g")

      .attr("class", function(d) { return "node" + (d.children ? " node--internal" : " node--leaf"); })

      .attr("transform", function(d) { return "translate(" + d.y + "," + d.x + ")"; })



  node.append("circle")

      .attr("r", 2.5);



  node.append("text")

      .attr("dy", 3)

      .attr("x", function(d) { return d.children ? -8 : 8; })

      .style("text-anchor", function(d) { return d.children ? "end" : "start"; })

      .text(function(d) { return d.id.substring(d.id.lastIndexOf(".") + 1); });

});



</script>
<!-- Dynamic Flow

<style>
body {
background-color:silver;
}
button {
  position: absolute;
  right: 340px;
  top: 77px;
}
</style>

<button onclick="transition()">Update chart</button>

 <h4 style="text-align:right;color:blue;margin:50px;padding:30px;"><a style="text-decoration:none;" href="../index.html">back to TMM</a></h4>
<svg width="960" height="700"></svg>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>
var n = 20, // number of layers
m = 200, // number of samples per layer
k = 10; // number of bumps per layer
var stack = d3.stack().keys(d3.range(n)).offset(d3.stackOffsetWiggle),
layers0 = stack(d3.transpose(d3.range(n).map(function() { return bumps(m, k); }))),
layers1 = stack(d3.transpose(d3.range(n).map(function() { return bumps(m, k); }))),
layers = layers0.concat(layers1);
var svg = d3.select("svg"),
width = +svg.attr("width"),
height = +svg.attr("height");
var x = d3.scaleLinear()
    .domain([0, m - 1])
    .range([0, width]);
var y = d3.scaleLinear()
    .domain([d3.min(layers, stackMin), d3.max(layers, stackMax)])
    .range([height, 0]);
var z = d3.interpolateCool;

var area = d3.area()
        .x(function(d, i) { return x(i); })
        .y0(function(d) { return y(d[0]); })
        .y1(function(d) { return y(d[1]); });
svg.selectAll("path")
  .data(layers0)
  .enter().append("path")
    .attr("d", area)
    .attr("fill", function() { return z(Math.random()); });

function stackMax(layer) {
  return d3.max(layer, function(d) { return d[1]; });
}
function stackMin(layer) {
  return d3.min(layer, function(d) { return d[0]; });
}
function transition() {
  var t;
  d3.selectAll("path")
    .data((t = layers1, layers1 = layers0, layers0 = t))
    .transition()
          .duration(2500)
          .attr("d", area);
}



// Inspired by Lee Byron’s test data generator.

function bumps(n, m) {
  var a = [], i;
  for (i = 0; i < n; ++i) a[i] = 0;
  for (i = 0; i < m; ++i) bump(a, n);
  return a;
}



function bump(a, n) {
  var x = 1 / (0.1 + Math.random()),
y = 2 * Math.random() - 0.5,
      z = 10 / (0.1 + Math.random());
  for (var i = 0; i < n; i++) {
    var w = (i / n - y) * z;
    a[i] += x * Math.exp(-w * w);

  }

}



</script>
-->
    </head>

<body>
<ul>
<li><a href="https://github.com/curran/screencasts/tree/gh-pages/bower_components"> </a></li>
<li><a href="https://github.com/curran/screencasts/tree/gh-pages/introToGitHub"> </a></li>
<li><a href="https://github.com/curran/screencasts/tree/gh-pages/introToD3"> </a></li>
<li><a href="https://github.com/curran/screencasts/tree/gh-pages/introToChiasm"> </a></li>
<li><a href="https://github.com/curran/screencasts/tree/gh-pages/introDataVisD3"> </a></li>
<li><a href="https://github.com/curran/screencasts"> </a></li>
</ul>
<ul>
<li><a href=""> </a></li>
<li><a href=""> </a></li>
<li><a href=""> </a></li>
<li><a href=""> </a></li>
<li><a href=""> </a></li>
</ul>

<ul>
<li><a id="">best-and-worst</a>
<ul>
<li><a href="https://bl.ocks.org/">bl.ocks.org</a></li>
<li><a href="https://gist.github.com">gist.github</a></li>
<li><a href="https://github.com/PMSI-AlignAlytics/dimple/wiki/dimple">dimple</a></li>
<li><a href="https://gist.github.com/mbostock/1353700">gears</a></li>
<li><a href="https://bl.ocks.org/mbostock/1353700">gear how-to </a></li>
<li><a href="http://dataremixed.com/2012/05/clarity-or-aesthetics-part-2-a-tale-of-four-quadrants/">4 quadrants</a></li>
<li><a href="http://viz.wtf/">wtf  viz</a></li>
<li><a href="http://www.designyourway.net/blog/inspiration/when-infographics-go-bad-or-how-not-to-design-data-visualization/">when-infographics-go-bad</a></li>
<li><a href="http://www.businessinsider.com/the-27-worst-charts-of-all-time-2013-6?op=1">27-worst-charts</a></li>
<li><a href="http://www.perceptualedge.com/example20.php">perceptualedge</a></li>
</ul>
</li> 
</ul>

</body>

</html>