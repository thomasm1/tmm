/*!CK:852146851!*//*1456280458,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["LITx3"]); }

__d('MessengerContextBannerContainer.react',['DOMDimensions','immutable','MercuryIDs','MercuryParticipants','MercuryThreads','MessengerContextBanner.react','MessengerContextInformationStore','ReactComponentWithPureRenderMixin','React','ReactDOM','StoreAndPropBasedStateMixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=p.PropTypes,t=p.createClass({displayName:'MessengerContextBannerContainer',mixins:[o,r(k,l,n)],propTypes:{location:s.string.isRequired,onResize:s.func,otherUserFBIDs:s.arrayOf(s.string),threadID:s.string,viewer:s.string.isRequired},statics:{calculateState:function(u){var v=null,w=null;if(u.threadID){v=l.getForFBID(u.viewer).getOrFetch(u.threadID);w=v&&v.participants;}else if(u.otherUserFBIDs&&u.otherUserFBIDs.length===1)w=u.otherUserFBIDs.map(function(z){return k.getIDFromVanityOrFBID(z);});var x=i.Map();if(w)x=x.withMutations(function(z){w&&w.forEach(function(aa){z.set(aa,k.getOrFetch(aa));});});var y=null;if(v){y=x.get(j.getParticipantIDFromFromThreadID(v.thread_id));}else y=w&&x.get(w[0]);return babelHelpers['extends']({contact:y,participantIDs:w,participants:x,thread:v},t.getContextInformation(y&&y.fbid&&y.fbid.toString()));},getContextInformation:function(u){var v;if(u)v=n.getOrFetch(u.toString());return v||{connectionContext:'',contextItems:[]};}},componentDidUpdate:function(){var u=q.findDOMNode(this);if(!u)return;var v=h.getElementDimensions(u).height;if(this.props.onResize)this.props.onResize(v);},render:function(){if(!this.state.contact||this.state.contact.type==='page')return null;return (p.createElement(m,{contactName:this.state.contact.name,connectionContext:this.state.connectionContext,contextItems:this.state.contextItems,location:this.props.location,participantIDs:this.state.participantIDs,participants:this.state.participants,style:this.props.style,thread:this.state.thread,viewer:this.props.viewer}));}});f.exports=t;},null);