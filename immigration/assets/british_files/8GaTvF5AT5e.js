/*!CK:3982627391!*//*1456280255,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["JrHRl"]); }

__d("XPrivacyCheckupSpawnDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/privacy\/checkup\/dialog\/show\/",{source:{type:"Enum",enumType:1}});},null);
__d('PrivacyLiteFlyout',['Animation','Arbiter','ArbiterMixin','AsyncDialog','AsyncRequest','Banzai','CSS','DOM','Ease','Event','PrivacyConst','Style','SubscriptionsHandler','Toggler','XPrivacyCheckupSpawnDialogController','XPrivacyRemindersDismissController','csx','cx','ge','getOrCreateDOMID'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){if(c.__markCompiled)c.__markCompiled();var ba='PrivacyLiteFlyout/expandingSection',ca={},da={};function ea(ja,ka,la){var ma=ka?0:ja.offsetHeight;s.set(ja,'height',ma+'px');s.set(ja,'overflow','hidden');n.show(ja);var na=ka?ja.scrollHeight:0,oa=aa(ja);ca[oa]&&ca[oa].stop();ca[oa]=new h(ja).to('height',na).ondone(function(){ca[oa]=null;s.set(ja,'height','');s.set(ja,'overflow','');na||n.hide(ja);la();}).duration(Math.abs(na-ma)*1.5).ease(p.sineOut).go();}function fa(ja){var event='other_section';switch(ja){case 'who_can_see':case 'who_can_contact':case 'how_to_stop':event=ja;break;}return event;}var ga=null,ha=false,ia=babelHelpers['extends']({loadBody:function(){this._loadBody(false);},loadBodyFromMegaphone:function(){this._loadBody(true);},_loadBody:function(ja){if(!ha&&z('fbPrivacyLiteFlyoutLoading')){ha=true;new l('/ajax/privacy/privacy_lite/loader').setData({from_megaphone:ja}).send();}},_addListener:function(ja,event,ka){return q.listen(ja,'click',function(){m.post('privacy_lite',{event:event,exit_point:ka});});},addLoggingElem:function(ja,event,ka){this._loggingElements=this._loggingElements||[];var la=this._loggingElements.length,ma={elem:ja,event:event,exit:ka};this._loggingElements[la]=ma;},registerSettingsAndBasicsLinkLogging:function(ja,event,ka,la){var ma=o.scry(ja,"._5cw0")[0],na=o.scry(ja,"._3djx")[0];if(ma){this._settingsLinkListener&&this._settingsLinkListener.release();this._settingsLinkListener=this._addListener(ma,event,ka);}if(na){this._privacyBasicsLinkListener&&this._privacyBasicsLinkListener.release();this._privacyBasicsLinkListener=this._addListener(na,event,la);}},_subscribeListeners:function(){this._loggingElements&&this._loggingElements.forEach(function(ja){this._subscriptions&&this._subscriptions.addSubscriptions(this._addListener(ja.elem,ja.event,ja.exit));},this);},renderBody:function(ja,ka){var la=z('fbPrivacyLiteFlyoutLoading');if(la){o.replace(la,ja);ia.registerCallback(function(){ia.inform('load',null,i.BEHAVIOR_STATE);},ka);}},hideCleanup:function(ja){i.inform(ba);o.scry(ja,"._2va0").forEach(function(ka){n.removeClass(ka,"_2va0");});},registerFlyoutToggler:function(ja,ka,la){ga=ka;var ma=u.createInstance(ja);ma.setSticky(false);u.listen(['show','hide'],ka,function(na){ia.inform(na);var oa=na==='show';if(!oa){ia.hideCleanup(ja);ma.hide();this._subscriptions&&this._subscriptions.release();this._subscriptions=null;i.inform('layer_hidden',{type:'PrivacyShortcutsFlyout'});}else{i.inform('layer_shown',{type:'PrivacyShortcutsFlyout'});if(la){la.start(this);la=null;}i.subscribeOnce(ba,function(){this._subscriptions&&this._subscriptions.release();this._subscriptions=new t();this._subscribeListeners();}.bind(this));m.post('privacy_lite',{event:'show_flyout',exit_point:null});}}.bind(this));},isFlyoutVisible:function(){return ga&&u.getActive()===ga;},exists:function(){return !!o.scry(document.body,"._59fc")[0];},setFlyoutVisible:function(ja){ja?u.show(ga):u.hide(ga);},showSection:function(ja){var ka=da[ja];if(!ka)return;if(!ka.sublist_container){ia.inform('expanded',ja,i.BEHAVIOR_STATE);return;}var la=ka.chevron,ma=ka.sublist_container;i.inform(ba,la);if(ia.inform('expand',ja)!==false){n.removeClass(la,"_9or");n.addClass(la,"_9os");ea(ma,true,function(){ia.inform('expanded',ja);});}},hideSection:function(ja,ka,la){var ma=da[ja],na=ma.chevron,oa=ma.sublist_container;if(la===na)return;if(ia.inform('collapse',ja)!==false){n.addClass(na,"_9or");n.removeClass(na,"_9os");ea(oa,false,function(){ia.inform('collapsed',ja);});}},toggleSection:function(ja){var ka=da[ja].chevron;u.getInstance(ka).hide();if(n.hasClass(ka,"_9or")){ia.showSection(ja);m.post('privacy_lite',{event:fa(ja)+'_expand',exit_point:null});new l('/ajax/privacy/privacy_lite/log_section_expand').setData({section:ja}).send();}else{ia.hideSection(ja);m.post('privacy_lite',{event:fa(ja)+'_collapse',exit_point:null});}},registerSection:function(ja,ka){da[ja]=ka;if(ka.sublist_container){i.subscribe(ba,ia.hideSection.bind(null,ja));q.listen(ka.section_block,'click',ia.toggleSection.bind(null,ja));}ia.inform(ja);},registerInlineHelpOnAudienceChangeNewSelector:function(ja,ka,la,ma){ja=ja.getInstance();ja.subscribe('changed',function(na){this._registerInlineHelpOnAudienceChange(ka,la,ma,ja.getSelectedBaseValue());}.bind(this));},registerSelectorLogging:function(ja,ka,la,ma){ja=ja.getInstance();ja.subscribe('open',function(){m.post('privacy_lite',{event:ka,exit_point:null});});ja.subscribe('close',function(){m.post('privacy_lite',{event:la,exit_point:null});});ja.subscribe('changed',function(){m.post('privacy_lite',{event:ma,exit_point:null});});},_registerInlineHelpOnAudienceChange:function(ja,ka,la,ma){var na=o.find(ja,"._9o_"),oa=o.find(ja,"._2v9_");if(la){var pa=o.find(ja,"._5n9w"),qa=ma==r.BaseValue.EVERYONE;n.conditionShow(pa,qa);n.conditionShow(na,!qa);if(pa&&qa){var ra=w.getURIBuilder().setString('type','delta_everyone').setBool('log_plite',true).getURI();new l(ra).send();}}else n.show(na);n.hide(oa);if(ka)new l('/ajax/privacy/privacy_lite/kill_intro').send();},registerInlineHelpXOutOnClick:function(ja,ka,la){q.listen(ja,'click',function(){n.addClass(ka,"_9p0");});},registerBlockUnhideOnFocus:function(ja,ka){q.listen(ja,'focus',function(la){n.show(la);m.post('privacy_lite',{event:'block_user_input_click',exit_point:null});}.bind(this,ka));},registerPrivacyCheckupListener:function(ja){q.listen(ja,'click',function(){this.setFlyoutVisible(false);k.send(new l(v.getURIBuilder().setEnum('source','plite').getURI()));m.post('privacy_lite',{event:'exit_flyout',exit_point:'privacy_checkup'});}.bind(this));},displayPrivacyCheckup:function(ja){ja.show();}},j);f.exports=ia;},null);
__d('LayerSlowlyFadeOnShow',['LayerFadeOnShow'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=500,j=h.forDuration(i);f.exports=j;},null);
__d('PrivacyLiteNUXController',['AsyncRequest','CSS','Event','LayerSlowlyFadeOnShow','Locale','ModalMask','PageTransitions','Parent','PrivacyLiteFlyout','Toggler','$','cx','ge'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u="_3oye",v="_1luv",w=[],x={bootload:function(){},init:function(z){if(!x.initialized)Object.assign(this,{dialog:z.dialog,sectionID:z.sectionID,subsectionID:z.subsectionID,initialized:true,tourStarted:false});if(z.showOnExpand){x._attachFlyoutListener();}else x._detachFlyoutListener();},startTourFromAnywhere:function(){x._startTour(false,true);},startTourFromMegaphone:function(){x._startTour(true,true);},startTourWithoutMask:function(){x._startTour(false,false);},_startTour:function(z,aa){if(x.tourStarted)return;x.tourStarted=true;x._detachFlyoutListener();new h('/ajax/privacy/privacy_lite/log_nux_imp').setData({from_megaphone:z}).send();aa&&m.show();i.conditionClass(x.dialog.getRoot(),u,z);if(!z&&aa)x._maskListener=j.listen(r('modalMaskOverlay'),'click',x._cleanup);q.setSticky(true);setTimeout(x._showFlyout);n.registerHandler(function(){x._cleanup();p.setFlyoutVisible(false);},10);},_showFlyout:function(){p.loadBodyFromMegaphone();p.setFlyoutVisible(true);x._initDialog();y('load',x._showTour);},_showTour:function(){p.showSection(x.sectionID);y('expanded',function(z,aa){if(aa===x.sectionID){var ba=x.subsectionID?x.subsectionID:aa,ca=t(ba);if(ca)x.dialog.setContext(ca).show();}});y(['collapse','hide'],x._cleanup);},_initDialog:function(){var z=x.dialog.getRoot(),aa=x.dialog.getContent();i.addClass(z,"_1luy");i.conditionClass(z,"_3qz8",l.isRTL());i.addClass(aa,"_1luz");x.dialog.enableBehavior(k);j.listen(z,'click',function(event){if(o.byClass(event.getTarget(),v))x._cleanup();});},_attachFlyoutListener:function(){if(!x.flyoutSubscription)if(p.isFlyoutVisible()){x.startTourFromAnywhere();}else x.flyoutSubscription=p.subscribe('show',x.startTourFromAnywhere);},_detachFlyoutListener:function(){if(x.flyoutSubscription){x.flyoutSubscription.unsubscribe();x.flyoutSubscription=null;}},_cleanup:function(){if(!x.tourStarted)return;x.tourStarted=false;q.setSticky(false);m.hide();x.dialog.hide();while(w.length)w.pop().unsubscribe();if(x._maskListener){x._maskListener.remove();x._maskListener=null;}}};function y(z,aa){w.push(p.subscribe(z,aa));}f.exports=x;},null);