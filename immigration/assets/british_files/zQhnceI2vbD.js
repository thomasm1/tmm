/*!CK:1791640136!*//*1456276528,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["uYuUI"]); }

__d('NotificationJewelList.react',['Animation','Event','LoadingIndicator.react','NotificationListPropTypes','NotificationListItem.react','React','ReactDOM','ScrollableArea.react','Vector','cx','debounce','fbt','getObjectValues','isEmpty'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=160,w=530,x=40,y=64,z=430,aa=m.createClass({displayName:'NotificationJewelList',propTypes:k,_isLoadingIndicatorVisible:function(){var ba=this.refs.loading;if(!ba)return false;var ca=n.findDOMNode(this.refs.scrollable),da=p.getElementDimensions(ca).y;if(da===0)return false;var ea=p.getElementPosition(ca).y+da,fa=p.getElementPosition(n.findDOMNode(ba)).y;fa-=x;return fa<ea;},_calculateHeight:function(){var ba=p.getViewportDimensions().y,ca=Math.min(this.props.maxHeight||w,ba-v);if(this.props.upsell)return Math.max(ca-y,0);return ca;},_keepOnLoading:function(){if(this.isMounted())this.props.afterScroll(this._isLoadingIndicatorVisible());},_renderItems:function(){return t(this.props.notifs).map(function(ba){var ca=ba.alert_id;return (m.createElement(l,babelHelpers['extends']({key:ca,visible:!this.props.hiddenState[ca],isRead:this.props.readState[ca],negativeTracking:this.props.negativeTracking,shortenTimestamp:this.props.shortenTimestamp,onChevronShow:this.props.onChevronShow,onChevronHide:this.props.onChevronHide,paused:this.props.paused,parent:this},ba)));}.bind(this));},componentDidMount:function(){var ba=n.findDOMNode(this.refs.scrollable);i.listen(window,'resize',r(function(){if(!u(this.props.notifs))new h(ba).to('height',this._calculateHeight()+'px').duration(100).go();}.bind(this)));},componentDidUpdate:function(ba){if(this.props.paused&&!ba.paused)if(this.props.shouldScroll&&this.refs.scrollable)this.refs.scrollable.getArea().scrollToTop(false);setTimeout(this._keepOnLoading,0);},render:function(){var ba=this.props.notifs,ca=null,da=null,ea=z,fa=null;if(!u(ba)){ca=m.createElement('ul',{'data-gt':this.props.tracking},this._renderItems());da=this._calculateHeight();}else if(!this.props.canFetchMore)ca=m.createElement('div',{className:"_572e"},s._("No new notifications"));if(this.props.canFetchMore)fa=m.createElement(j,{color:'white',size:'small',ref:'loading',className:"_33i"});var ga=null;if(this.props.upsell){var ha=this.props.upsell.module;ga=m.createElement(ha,this.props.upsell.props);}var ia="_50-t"+(this.props.showingChevron?' '+"_2iy1":'');return (m.createElement('div',{className:ia},m.createElement(o,{ref:'scrollable',width:ea,height:da,fade:true,persistent:true,onScroll:r(this._keepOnLoading)},ca,fa),ga));}});f.exports=aa;},null);