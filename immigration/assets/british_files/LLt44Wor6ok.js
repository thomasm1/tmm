/*!CK:3034043290!*//*1456280256,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["BiCOZ"]); }

__d("TagExpansionButtonConfig",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FRIENDS_OF_TAGGED:"friends_of_tagged",TAGGED_ONLY:"tagged_only"};},null);
__d('AdsPagerConstants',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h({ADD_PAGE:null,PAGE_TRANSITION:null,REQUEST_PAGE:null}),j=h({VIEW_ACTION:null,SERVER_ACTION:null});f.exports={ActionTypes:i,PayloadSources:j};},null);
__d('AdsPagerDispatcher',['AdsPagerConstants','Dispatcher_DEPRECATED'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.PayloadSources;function k(m){return function(n){this.dispatch({payloadSource:m,action:n});};}var l=Object.assign(new i(),{handleUpdateFromViewAction:k(j.VIEW_ACTION),handleUpdateFromServerAction:k(j.SERVER_ACTION)});f.exports=l;},null);
__d('AdsRefreshHandler',['AdsMouseStateStore','AdsPagerConstants','AdsPagerDispatcher','Animation','Arbiter','DOM','Event','SubscriptionsHandler','UIPagelet','csx','debounceAcrossTransitions','getOrCreateDOMID'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=h.STATES,u=600;function v(w,x,y){'use strict';if(!y.data||!y.pid)return;this.$AdsRefreshHandler1=w;this.$AdsRefreshHandler2=Date.now();this.$AdsRefreshHandler3=x;this.$AdsRefreshHandler4=y;this.$AdsRefreshHandler5=0;this.$AdsRefreshHandler6=false;this.$AdsRefreshHandler7=true;this.$AdsRefreshHandler8=r(this.reloadAdsIfNeeded.bind(this),this.$AdsRefreshHandler3.delay);this.$AdsRefreshHandler9=new o();this.$AdsRefreshHandler9.addSubscriptions(n.listen(this.$AdsRefreshHandler1,'mouseenter',this.setMouseOver.bind(this,true)),n.listen(this.$AdsRefreshHandler1,'mouseleave',this.setMouseOver.bind(this,false)),h.subscribe('change',this.onMouseStateStoreChange.bind(this)),l.subscribe('AdsPreferencesDialog/opened',this.stopRefreshingRHC.bind(this)),l.subscribe('AdsPreferencesDialog/closed',this.startRefreshingRHC.bind(this)),l.subscribe('VideoChannelView/opened',this.stopRefreshingRHC.bind(this)),l.subscribe('VideoChannelView/closed',this.startRefreshingRHC.bind(this)));j.register(this.handlePageDispatch.bind(this));}v.prototype.handlePageDispatch=function(w){'use strict';var x=w.action||{};if(x.actionType===i.ActionTypes.REQUEST_PAGE)this.reloadAds();};v.prototype.setMouseOver=function(w){'use strict';this.$AdsRefreshHandler10=w;};v.prototype.subscribeDefaultEventsForRefresh=function(){'use strict';this.$AdsRefreshHandler9.addSubscriptions(n.listen(window,'scroll',this.$AdsRefreshHandler8),n.listen(window,'resize',this.$AdsRefreshHandler8));return this;};v.prototype.reloadWithDebounce=function(){'use strict';this.$AdsRefreshHandler8();};v.prototype.reloadWithoutDebounce=function(){'use strict';this.reloadAdsIfNeeded();};v.prototype.stopRefreshingRHC=function(w,x){'use strict';this.$AdsRefreshHandler7=false;};v.prototype.startRefreshingRHC=function(w,x){'use strict';this.$AdsRefreshHandler2=Date.now();this.$AdsRefreshHandler7=true;};v.prototype.forceLoadIfEnoughTimePassed=function(w){'use strict';if(Date.now()-this.$AdsRefreshHandler2>w)this.reloadAds();};v.prototype.containsPremium=function(){'use strict';var w=m.scry(this.$AdsRefreshHandler1,"div._4u8");return !!w.filter(function(x){return JSON.parse(x.getAttribute('data-ad')).segment==='premium';}).length;};v.prototype.reloadAdsIfNeeded=function(){'use strict';if(!this.$AdsRefreshHandler1)return;l.inform('AdsRefreshHandler/CheckingReload');if(this.$AdsRefreshHandler3.stateRefresh){this.reloadAdsIfNeededStateBased();return;}if(this.containsPremium()||this.$AdsRefreshHandler10||!this.$AdsRefreshHandler3.interval)return;if(Date.now()-this.$AdsRefreshHandler2>=this.$AdsRefreshHandler3.interval)this.reloadAds();};v.prototype.reloadAdsIfNeededStateBased=function(){'use strict';if(Date.now()-this.$AdsRefreshHandler2<this.$AdsRefreshHandler3.interval)return;if(this.containsPremium())return;if(!this.$AdsRefreshHandler3.interval)return;this.$AdsRefreshHandler6=true;l.inform('AdsRefreshHandler/RefreshScheduled');this.checkScheduledRefresh();};v.prototype.getRefreshScheduled=function(){'use strict';return this.$AdsRefreshHandler6;};v.prototype.onMouseStateStoreChange=function(){'use strict';this.checkScheduledRefresh();};v.prototype.checkScheduledRefresh=function(){'use strict';if(!this.$AdsRefreshHandler6)return;if(this.$AdsRefreshHandler10)return;var w=h.getState(),x=false;switch(w){case t.HOVER:case t.NO_INTENT:x=true;break;default:break;}if(!x)return;this.$AdsRefreshHandler6=false;this.reloadAds();};v.prototype.reloadAds=function(){'use strict';if(!this.$AdsRefreshHandler1)return;this.$AdsRefreshHandler2=Date.now();if(!this.$AdsRefreshHandler7)return;var w=this.$AdsRefreshHandler4&&this.$AdsRefreshHandler4.data,x=babelHelpers['extends']({},w,{refresh_num:++this.$AdsRefreshHandler5});p.loadFromEndpoint('WebEgoPane',this.$AdsRefreshHandler1,{dom_id:s(this.$AdsRefreshHandler1),pid:this.$AdsRefreshHandler4.pid,data:x},{bundle:false,handler:this.onLoadHandler.bind(this)});l.inform('AdsRefreshHandler/AdsLoading');};v.prototype.onLoadHandler=function(){'use strict';l.inform('AdsRefreshHandler/AdsLoaded');if(!this.$AdsRefreshHandler3.fade)return;new k(this.$AdsRefreshHandler1).from('opacity',0).to('opacity',1).duration(u).go();};v.prototype.cleanup=function(){'use strict';this.$AdsRefreshHandler1=null;this.$AdsRefreshHandler9.release();this.$AdsRefreshHandler8.reset();};f.exports=v;},null);
__d('KeyboardShortcuts',['KeyEventController','Layer','ModalLayer'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(m,n,o){'use strict';this.key=m;this.handler=n;this.filter=o;this.register();}k.prototype.register=function(){'use strict';this.token=h.registerKey(this.key,this.handler,this.filter);};k.prototype.remove=function(){'use strict';this.token.remove();};var l={_tokens:[[]],register:function(m,n,o){o=o||{};var p=o.allowDefault?n:function(event,t){n.apply(this,arguments);event.prevent();},q=o.baseFilters||[h.defaultFilter],r=function(event,t){for(var u=0,v=q.length;u<v;u++)if(!q[u](event,t))return false;return !o.filter||o.filter(event,t);},s=new k(m,p,r);if(!this._tokens.length)this._tokens.push([]);this._tokens[this._tokens.length-1].push(s);return s;},init:function(){i.subscribe('show',function(m,n){if(n.hasBehavior(j))this.pushLayer();}.bind(this));i.subscribe('hide',function(m,n){if(n.hasBehavior(j))this.popLayer();}.bind(this));},pushLayer:function(){var m=this._tokens[this._tokens.length-1];m&&m.forEach(function(n){n.remove();});this._tokens.push([]);},popLayer:function(){var m=this._tokens.length-1;if(m<0)return;var n=this._tokens[m];n.forEach(function(p){p.remove();});this._tokens.pop();var o=this._tokens[m-1];o&&o.forEach(function(p){p.register();});}};l.init();f.exports=l;},null);
__d('FeedBaseKeyboardController',['AccessibilityLogger','Arbiter','AsyncDialog','AsyncRequest','Banzai','BanzaiODS','BanzaiNectar','CSS','DOM','DOMScroll','Event','Focus','KeyboardShortcuts','LikeConfirmer','NavigationMessage','Parent','ReactComposerEvents','ReactComposerIDGenerator','Run','Scroll','SubscriptionsHandler','UITinyViewportAction','Vector','ViewportBounds','csx','emptyFunction','ge','getActiveElement','isAsyncScrollQuery','isElementNode','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la){if(c.__markCompiled)c.__markCompiled();var ma=0;function na(){var pa=ha('pagelet_bluebar');ma=!ca.isTiny()&&pa?pa.offsetTop+pa.offsetHeight:0;}function oa(pa){'use strict';this.root=pa;this.init();}oa.prototype.getStories=function(){'use strict';};oa.prototype.getParentStory=function(pa){'use strict';};oa.prototype.isStory=function(pa){'use strict';};oa.prototype.isHoldoutStory=function(pa){'use strict';};oa.prototype.getHeadline=function(pa){'use strict';};oa.prototype.getPreviousStory=function(pa){'use strict';};oa.prototype.getNextStory=function(pa){'use strict';};oa.prototype.setSelected=function(pa,qa){'use strict';};oa.prototype.clickLike=function(){'use strict';};oa.prototype.clickComment=function(){'use strict';};oa.prototype.clickShare=function(){'use strict';};oa.prototype.clickSeeMore=function(){'use strict';};oa.prototype.clickLeft=function(){'use strict';};oa.prototype.clickRight=function(){'use strict';};oa.prototype.openAttachment=function(){'use strict';};oa.prototype.focusComposer=function(){'use strict';var pa=ha('pagelet_composer');if(!pa)pa=ha('pagelet_group_composer');if(pa){var qa=p.scry(pa,'textarea')[0];if(qa){s.set(qa);q.scrollToTop(true);}else{var ra=p.scry(pa,"div._36bx")[0],sa=ra&&ra.id;if(y.isComposerID(sa)){i.inform(x.ACTIVATE_ATTACHMENT+ra.id);q.scrollToTop(true);}}}};oa.prototype.getScrollOffset=function(){'use strict';return 10;};oa.prototype.getAnimationLength=function(pa){'use strict';return Math.min(Math.abs(da.getElementPosition(pa).y-ea.getTop()-aa.getTop(document.body)),400);};oa.prototype.findTop=function(){'use strict';var pa=this.getStories();for(var qa=0;qa<pa.length;qa++)if(da.getElementPosition(pa[qa]).y>da.getScrollPosition().y)return pa[qa];};oa.prototype.onLeave=function(){'use strict';this.subscriptions&&this.subscriptions.release();};oa.prototype.getHelpDialogRequest=function(){'use strict';if(!this.dialogRequest){this.dialogRequest=new k('/ajax/keyboard_shortcuts');this.dialogRequest.setReadOnly(true);}else if(this.dialogRequest.transport)return null;return this.dialogRequest;};oa.prototype.init=function(){'use strict';z.onLeave(this.onLeave.bind(this));this.subscriptions=new ba();this.subscriptions.addSubscriptions(i.subscribe(v.NAVIGATION_BEGIN,this.onLeave.bind(this)),t.register('j',this.vert.bind(this,1)),t.register('k',this.vert.bind(this,-1)),t.register('l',function(){var pa=this.getParentStory(ia());u.like(function(){this.setSelected(pa,false);this.clickLike();}.bind(this),ia());}.bind(this),{filter:this.hasActiveStory.bind(this)}),t.register('c',this.clickComment.bind(this),{filter:this.hasActiveStory.bind(this)}),t.register('o',this.openAttachment.bind(this),{filter:this.hasActiveStory.bind(this)}),t.register('p',this.focusComposer.bind(this)),t.register('s',this.clickShare.bind(this),{filter:this.hasActiveStory.bind(this)}),t.register('SLASH',function(){var pa=this.getHelpDialogRequest();if(pa){pa.setRelativeTo(ia());j.send(pa);}}.bind(this),{filter:function(event,pa){return event.getModifiers().shift;}}),t.register('RETURN',this.clickSeeMore.bind(this),{filter:this.hasExpandableStoryInFocus.bind(this)}),t.register('LEFT',this.clickLeft.bind(this),{filter:this.hasActiveStory.bind(this)}),t.register('RIGHT',this.clickRight.bind(this),{filter:this.hasActiveStory.bind(this)}),r.listen(this.root,'focusin',function(event){var pa=event.getTarget();if(!this.isStory(pa)){var qa=p.isNodeOfType(pa,['object','embed','iframe']),ra=this.getParentStory(pa),sa=this.selected;if(ra&&!qa&&sa){this.setSelected(ra,true);this.selected=ra;}}}.bind(this)));};oa.prototype.hasActiveStory=function(event,pa){'use strict';var qa=ia();return !(qa&&o.shown(qa))||!!this.getParentStory(qa);};oa.prototype.hasExpandableStoryInFocus=function(event,pa){'use strict';var qa=ia();return !!(qa.getElementsByClassName('text_exposed_root').length&&!qa.getElementsByClassName('text_exposed_root text_exposed').length);};oa.prototype.clickElement=function(pa){'use strict';if(!pa)return;var qa=undefined;for(var ra=arguments.length,sa=Array(ra>1?ra-1:0),ta=1;ta<ra;ta++)sa[ta-1]=arguments[ta];for(var ua=0,va=sa.length;ua<va;ua++){qa=p.scry(pa,sa[ua])[0];if(qa&&o.shown(qa)){qa.click();return;}}};oa.prototype.click=function(){'use strict';for(var pa=arguments.length,qa=Array(pa),ra=0;ra<pa;ra++)qa[ra]=arguments[ra];this.clickElement.apply(this,[this.selected].concat(qa));};oa.prototype.$FeedBaseKeyboardController1=function(){'use strict';if(!this.$FeedBaseKeyboardController2){this.subscriptions.addSubscriptions(r.listen(document,'scroll',function(){if(this.selected&&!this.scrolling)this.setSelected(null,false);}.bind(this)));this.$FeedBaseKeyboardController2=true;}};oa.prototype.$FeedBaseKeyboardController3=function(){'use strict';if(!this.$FeedBaseKeyboardController4){na();this.subscriptions.addSubscriptions(r.listen(window,'resize',la(na)));this.$FeedBaseKeyboardController4=true;}};oa.prototype.vert=function(pa){'use strict';this.$FeedBaseKeyboardController1();var qa,ra;if(this.selected){if(l.isEnabled('kbshortcuts_feed')){ra=pa>0?'kbshortcuts.scroll_down':'kbshortcuts.scroll_up';m.bumpEntityKey('kbshortcuts_feed',ra);n.log('feed_scroll',ra,{});}h.logJKKey();if(this.selected.id=='pagelet_composer'){qa=pa>0?this.getStories()[0]:null;if(this.isHoldoutStory(qa))qa=this.getPreviousStory(qa);}else if(pa===0){qa=this.selected;}else qa=pa>0?this.getNextStory(this.selected):this.getPreviousStory(this.selected)||ha('pagelet_composer');if(!qa){return;}else if(!ka(qa)){o.removeClass(this.selected,'selectedStorySimple');this.selected=qa;return this.vert(pa);}}if(!qa||w.byClass(qa,'hidden_elem')||!p.contains(document,qa)){qa=this.findTop();if(qa&&pa<0)qa=this.getPreviousStory(qa);if(this.isHoldoutStory(qa))qa=this.getPreviousStory(qa);}if(!qa)return;this.anim&&this.anim.stop();var sa=Date.now()-(this.lastScroll||0)>30,ta=ga;if(pa!==0)ta=this.setFocused.bind(this,qa);if(ja()){sa=false;ta();ta=ga;}this.scrolling=true;this.scrollingTimer&&clearTimeout(this.scrollingTimer);this.$FeedBaseKeyboardController3();this.anim=q.scrollTo(qa,sa?this.getAnimationLength(qa):0,false,da.getViewportDimensions().y-ma-this.getScrollOffset(),0,function(){this.scrollingTimer=setTimeout(function(){this.scrolling=false;}.bind(this),300);var ua=da.getScrollPosition();ta();if(ua.distanceTo(da.getScrollPosition())!==0)q.scrollTo(ua,0);}.bind(this));this.setSelected(qa,true);this.lastScroll=Date.now();};oa.prototype.setTabindexOnStory=function(pa,qa){'use strict';if(this.isStory(pa))pa.tabIndex=qa;};oa.prototype.setFocused=function(pa){'use strict';if(this.isStory(pa))s.setWithoutOutline(pa);};f.exports=oa;},null);
__d('AsyncLayout',['AjaxPipeRequest','Arbiter','AsyncRequest','AsyncResponse','CSS','DOM','HTML','NavigationMessage','PageTransitionsRegistrar','URI','$','emptyFunction','ge','goURI','requireWeak'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w;v('PageTransitions',function(y){w=y;});function x(y){'use strict';this.canvasID=y;if(t('rightCol'))this.auxiliaryID='rightCol';if(t('headerArea'))this.headerID='headerArea';if(t('toolbarContainer'))this.toolbarID='toolbarContainer';this.waitingForAux=false;p.registerHandler(this.catchPageTransition.bind(this));this.subscription=i.subscribe(o.NAVIGATION_BEGIN,this.onNavigate.bind(this));i.inform('AsyncLayout/initialized',null,i.BEHAVIOR_STATE);}x.prototype.catchPageTransition=function(y){'use strict';this.subscription.unsubscribe();return false;};x.prototype.getCanvasID=function(y){'use strict';return y.sidecol?'contentCol':'contentArea';};x.prototype.onNavigate=function(y,z){'use strict';var aa=z.useAjaxPipe;z=z.params;if(z.endpoint){if(this.request){this.request.setFinallyHandler(s);this.request.abort();}if(this.sideRequest)this.sideRequest.abort();if(aa){this.request=new h().setURI(z.endpoint).setData(z).setCanvasId(this.getCanvasID(z)).setFinallyHandler(this.finallyHandler.bind(this)).setErrorHandler(this.errorHandler.bind(this)).setFirstResponseCallback(this.firstResponseCallback.bind(this)).send();}else{z.handled=true;this.waitingForAux=z.sidecol;var ba=!!z.iframe,ca=new j().setOption('useIframeTransport',ba).setURI(new q(z.endpoint)).setReadOnly(true).setMethod('GET').setData(z).setHandler(this.onResponse.bind(this)).setErrorHandler(this.errorHandler.bind(this)).setFinallyHandler(this.finallyHandler.bind(this));this.request=ca;ca.send();}}};x.prototype.onSideResponse=function(y){'use strict';var z=y.getPayload();if(z&&this.auxiliaryID)this.receivedAux(z);};x.prototype.receivedAux=function(y){'use strict';!this.waitingForAux;this.waitingForAux=false;m.setContent(r(this.auxiliaryID),n(y));};x.prototype.onResponse=function(y){'use strict';var z=y.getPayload();if(z.redirect){u(z.redirect);}else{var aa=z.html||z;m.setContent(r(this.canvasID),n(aa));if(z.side_html&&this.auxiliaryID)this.receivedAux(z.side_html);if(this.headerID&&!z.keep_header){var ba=r(this.headerID);m.setContent(ba,n(z.header_html||''));l.conditionShow(ba,z.header_html);}if(z.toolbar_html&&this.toolbarID)m.setContent(r(this.toolbarID),n(z.toolbar_html));if(z.js)new Function(z.js)();l.conditionClass('contentCol','hasRightCol',this.auxiliaryID&&!z.noRightSide);var ca=t('rightCol');if(ca&&z.noRightSide)m.empty(ca);}var da=y.getRequest().getData();i.inform(o.NAVIGATION_COMPLETED,da.key);};x.prototype.errorHandler=function(y){'use strict';k.verboseErrorHandler(y);i.inform(o.NAVIGATION_FAILED);this.request=null;};x.prototype.firstResponseCallback=function(y){'use strict';window.scrollTo(0,0);i.inform(o.NAVIGATION_FIRST_RESPONSE);};x.prototype.finallyHandler=function(y){'use strict';this.request=null;if(w)w.transitionComplete(true);i.inform(o.NAVIGATION_COMPLETED);};f.exports=x;},null);
__d('PrivacySelectorOptionNew',['CSS','DOM','DOMQuery','JSXDOM','MenuSelectableItem','PrivacyConst','csx','cx','fbt','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r,s;if(c.__markCompiled)c.__markCompiled();r=babelHelpers.inherits(t,l);s=r&&r.prototype;function t(u){'use strict';s.constructor.call(this,u);this.updateAfterTagExpansion(!!u.hasTags);}t.prototype._getData=function(){'use strict';return this._data;};t.prototype.getTooltip=function(){'use strict';return this._getData().tooltip;};t.prototype.getPostParam=function(){'use strict';return this._getData().postParam.toString();};t.prototype.getTriggerIcon=function(){'use strict';return this._getData().triggerIcon;};t.prototype.getTriggerLabel=function(){'use strict';return this._getData().triggerLabel;};t.prototype.isPublic=function(){'use strict';return this.getPostParam()===m.PostParam.EVERYONE;};t.prototype.isFriends=function(){'use strict';return this.getPostParam()===m.PostParam.FRIENDS;};t.prototype.isOnlyMe=function(){'use strict';return this.getPostParam()===m.PostParam.ONLY_ME;};t.prototype.isBasicOption=function(){'use strict';return true;};t.prototype.isCustomOption=function(){'use strict';return false;};t.prototype.getTagExpansionBehavior=function(){'use strict';return this._getData().tagExpansionBehavior;};t.prototype.getBaseValue=function(){'use strict';return this._getData().baseValue;};t.prototype.getIndex=function(){'use strict';return this._getData().value;};t.prototype.getLoggingEventName=function(){'use strict';switch(this.getPostParam()){case m.PostParam.FRIENDS:return 'click_friends';case m.PostParam.EVERYONE:return 'click_everyone';case m.PostParam.ONLY_ME:return 'click_only_me';case m.PostParam.FRIENDS_MINUS_ACQUAINTANCES:return 'click_friends_except_acquaintances';case m.PostParam.FB_ONLY:return 'click_fb_only';default:return 'click_other';}};t.prototype.updateAfterTagExpansion=function(u){'use strict';var v=this._getData().triggerLabel;if(u&&this._getData().showPlusOnTagExpansion)v=p._("{privacyLabel} (+)",[p.param('privacyLabel',this._getData().triggerLabel)]);this._setLabel(v);var w=this._getExpansionType(u),x=this._getData().optionSubtitles||{};this._setSubtitle(x[w]);};t.prototype.isBelowFold=function(){'use strict';var u=h.hasClass(this.getRoot(),"_3ey_");return u;};t.prototype._setLabel=function(u){'use strict';if(!u)return;var v=j.find(this.getRoot(),"._54nh");v&&i.setContent(v,u);this._getData().label=u;};t.prototype._setSubtitle=function(u){'use strict';if(!u)return;var v=j.find(this.getRoot(),"._48u1");v&&i.setContent(v,u);};t.prototype._getExpansionType=function(u){'use strict';return u?m.ExpansionType.TAGS_ONLY:m.ExpansionType.NONE;};t.prototype.render=function(){'use strict';var u=s.render.call(this);if(!this._getData().isPrimaryOption)return u;var v=j.find(u,"._54nc");v&&h.addClass(v,"_48t_");var w=i.find(u,"._54nh");w&&h.addClass(w,"_48u0");var x=k.div({className:"_48u1"},this._getData().optionSubtitle);i.appendContent(v,x);return u;};f.exports=t;},null);
__d("XPrivacySelectorLoggingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/privacy\/selector\/log\/",{event:{type:"Enum",required:true,enumType:1},render_location:{type:"Int",required:true},content_type:{type:"String",required:true}});},null);
__d('PrivacySelectorCustomOption',['AsyncDialog','AsyncRequest','DataStore','PrivacySelectorOptionNew','XPrivacySelectorLoggingController','XPrivacyCustomDialogController'],function a(b,c,d,e,f,g,h,i,j,k,l,m){var n,o;if(c.__markCompiled)c.__markCompiled();n=babelHelpers.inherits(p,k);o=n&&n.prototype;function p(q){'use strict';o.constructor.call(this,q);}p.prototype.isBasicOption=function(){'use strict';return false;};p.prototype.isCustomOption=function(){'use strict';return true;};p.prototype.getSelector=function(){'use strict';return this._selector;};p.prototype.setPostParam=function(q){'use strict';this._data.postParam=q;};p.prototype.getLoggingEventName=function(){'use strict';return 'click_custom';};p.prototype.openDialog=function(q){'use strict';if(typeof this._selector==='undefined')this._selector=q;j.set(this._data.id,'PrivacySelectorCustomOption',this);var r=m.getURIBuilder().setString('option_id',this._data.id).setString('id',this._data.privacyfbid.toString()).setString('post_param',q.getPostParam()).setString('content_type',q.getContentType()).setInt('render_location',q.getRenderLocation()).setIntVector('tags',q.getTags()).setBool('autosave',this._data.autosave).setBool('limit_community',this._data.limitcommunity).setBool('limit_facebook',this._data.limitfacebook).setBool('limit_fof',this._data.limitfof).setBool('limit_tagexpand',this._data.limittagexpand).setBool('is_new_privacy_selector',true).setString('tag_expansion_button',q.getTagExpansionButton()).getURI(),s=new i(r);s.setRelativeTo(q.getTriggerButtonElement());h.send(s,function(t){var u=function(v){var w=l.getURIBuilder().setEnum('event',v).setInt('render_location',document.getElementsByName('render_location')[0].value).setString('content_type',document.getElementsByName('content_type')[0].value).getURI();new i().setURI(w).send();};t.subscribe('hide',function(){q.inform('custom/hide');q.inform('selectorFinished');});t.subscribe('success',function(){q.inform('custom/success');u('custom_save');});t.subscribe('cancel',function(){q.inform('custom/cancel');u('custom_cancel');});});};p.customPrivacySave=function(q,r){'use strict';var s=j.get(q,'PrivacySelectorCustomOption');s.getSelector().selectOption(r);j.remove(q,'PrivacySelectorCustomOption');};f.exports=p;},null);
__d('PrivacySelectableMenu',['Arbiter','AsyncRequest','CSS','Ease','PrivacySelectorCustomOption','PrivacySelectorOptionNew','SelectableMenu','SelectableMenuUtils','XPrivacySelectorLoggingController','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r,s;if(c.__markCompiled)c.__markCompiled();r=babelHelpers.inherits(t,n);s=r&&r.prototype;function t(u,v){'use strict';s.constructor.call(this,u,v);}t.prototype.getItemForIndex=function(u){'use strict';for(var v=0;v<this._items.length;v++){var w=this._items[v];if(w instanceof m&&w.getIndex()==u)return w;}return null;};t.prototype.selectDefaultOption=function(){'use strict';this._items.some(function(u){if(u instanceof m&&this._isDefaultOption(u)){this.setValue(u.getIndex());return true;}return false;},this);};t.prototype.selectOption=function(u){'use strict';var v=null,w=this._items.some(function(x){if(x instanceof m&&!x.isCustomOption()&&x.getPostParam()==u){this.setValue(x.getIndex());return true;}if(x instanceof l){v=x;return false;}if(this._isMoreOption(x)){this.expandMenu();return false;}},this);if(!w&&v){v.setPostParam(u);this.setValue(v.getIndex());}};t.prototype._isDefaultOption=function(u){'use strict';return j.hasClass(u.getRoot(),"_plx");};t.prototype._isMoreOption=function(u){'use strict';return j.hasClass(u.getRoot(),"_po2");};t.prototype._handleItemClick=function(u,v){'use strict';if(!o.doesItemSupportSelect(u))return s._handleItemClick.call(this,u,v);if(this._isMoreOption(u)){this._logMoreClick();this.expandMenu();return;}this._logOptionClick(u);var w=this.inform('itemclick',{item:u,event:v});if(w)return;if(!o.isSelected(u)&&!u.isCustomOption()&&u.select()!==false){this._items.forEach(function(x){if(o.isSelected(x)&&x!==u)x.deselect();});this.inform('change',this.getSelection());}h.inform('composerprivacy/aborteducation');this.done();return u.handleClick();};t.prototype._logMoreClick=function(){'use strict';var u=p.getURIBuilder().setEnum('event','more_options').setInt('render_location',this._config.renderlocation).setString('content_type',this._config.contenttype).getURI();new i().setURI(u).send();};t.prototype._logOptionClick=function(u){'use strict';var v=p.getURIBuilder().setEnum('event',u.getLoggingEventName()).setInt('render_location',this._config.renderlocation).setString('content_type',this._config.contenttype).getURI();new i().setURI(v).send();};t.prototype.expandMenu=function(){'use strict';j.removeClass(this.getRoot(),"_po3");j.addClass(this.getRoot(),"_po4");this.inform('expandMenu');};t.prototype.collapseMenu=function(){'use strict';j.removeClass(this.getRoot(),"_po4");j.addClass(this.getRoot(),"_po3");};t.prototype.updateOptionsAfterTagExpansion=function(u){'use strict';this.forEachItem(function(v){if(v instanceof m)v.updateAfterTagExpansion(u);});};t.prototype.onPopoverOpen=function(u){'use strict';if(this._config.learnMore)this._config.learnMore.collapse();if(u&&u.isBelowFold()){this.expandMenu();}else this.collapseMenu();if(u&&this._items.indexOf(u)>=15)setTimeout(function(){this._scrollableArea.scrollToBottom(true,{duration:1000,ease:k.sineOut});}.bind(this),250);};f.exports=t;},null);
__d('PopoverButton',['DOM','DOMQuery','csx','isTextNode'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={setLabel:function(m,n){var o=i.find(m,"._55pe"),p=o.childNodes;for(var q=0;q<p.length;q++)if(k(p[q])){h.replace(p[q],n);return;}h.appendContent(o,n);}};f.exports=l;},null);
__d('PrivacySelectorDataStore',['ArbiterMixin','PrivacySelectorNewDispatcher','KeyedCallbackManager'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=new j(),l=babelHelpers['extends']({},h,{get:function(m,n){k.executeOrEnqueue(m,n);},hasValueChanged:function(m){return !!k.getResource(m);}});i.register(function(m){if(m.selector_type){var n={};n[m.selector_type]={post_param:m.post_param,unique_id:m.unique_id,reload:m.reload,is_error:m.is_error};k.addResourcesAndExecute(n);l.inform('change');}});f.exports=l;},null);
__d("XPrivacySelectorUpdateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/privacy\/selector\/update\/",{privacy_fbid:{type:"String",required:true},post_param:{type:"String",required:true},tags:{type:"IntVector"},render_location:{type:"Int",required:true},is_saved_on_select:{type:"Bool",defaultValue:false},should_return_tooltip:{type:"Bool",defaultValue:false},replace_on_select:{type:"Bool",defaultValue:false},prefix_tooltip_with_app_privacy:{type:"Bool",defaultValue:false},ent_id:{type:"String",required:true},tag_expansion_button:{type:"String"},reload_selector:{type:"Bool",defaultValue:false}});},null);
__d('PrivacySelectorBase',['Arbiter','ArbiterMixin','AsyncRequest','Animation','Button','CSS','CurrentUser','Focus','Input','MenuStaticItem','MenuSelectableItem','PopoverButton','PopoverLoadingMenu','PrivacyConst','DataStore','PrivacySelectorNewDispatcher','PrivacySelectorDataStore','PrivacySelectableMenu','Run','SubscriptionsHandler','TagExpansionButtonConfig','TooltipData','XPrivacySelectorLoggingController','XPrivacySelectorUpdateController','XUIError','bind','cx','fbt','mixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja){var ka,la;if(c.__markCompiled)c.__markCompiled();var ma=3;ka=babelHelpers.inherits(na,ja(i));la=ka&&ka.prototype;function na(oa,pa,qa,ra,sa,ta){'use strict';la.constructor.call(this);v.set(oa,'selector',this);this._root=oa;this._button=pa;this._config=ta;this._menu=qa;this._popoverMenu=sa;this._input=ra;this._isSavedOnSelect=ta.is_saved_on_select;this._privacyFBID=ta.privacy_fbid;this._contentType=ta.content_type;this._renderLocation=ta.render_location;this._supportsTagExpansion=ta.supports_tag_expansion;this._prefixTooltipApps=ta.should_prefix_tooltip_apps;this._shouldDisplayLabel=ta.should_display_label;this._tags=ta.tagged_uids;this._hasTags=this._tags.length>0;this._entID=ta.ent_id;this._popover=this._popoverMenu.getPopover();this._receivingUpdate=false;this._initTagExpansionButtonState();this._selectorSyncKey=ta.selector_sync_key;this._previousParam=null;this._confirmOnSave=false;this._confirmOnSaveDialogs={};this._listeners=new aa();if(ta.use_async_menu){this._listeners.addSubscriptions(this._popoverMenu.subscribe('setMenu',function(){this._menu=this._popoverMenu.getMenu();if(!(this._menu instanceof y))return;this._onMenuLoad();this._onPopoverOpen();this.inform('asyncMenuLoaded');}.bind(this)));}else this._onMenuLoad();if(this._selectorSyncKey)this._initSelectorSync();z.onLeave(this._cleanup.bind(this));}na.prototype._cleanup=function(){'use strict';this._listeners&&this._listeners.release();this._listeners=null;};na.prototype._initSelectorSync=function(){'use strict';this._listeners.addSubscriptions(x.subscribe('change',function(){x.get(this._selectorSyncKey,function(oa){if(oa.unique_id!==this._menu._config.id){this._receivingUpdate=true;if(oa.post_param)this.selectOption(oa.post_param);oa.reload&&this.reloadSelector();oa.is_error&&this._displayErrorWithoutFocus();if(!oa.post_param)this._receivingUpdate=false;}}.bind(this));}.bind(this)));if(!this._syncsToDefault())this._listeners.addSubscriptions(this._menu.subscribe('change',function(){if(!this._shouldDisplaySuccessAndFailure())this._broadcastUpdate();}.bind(this)));};na.prototype._broadcastUpdate=function(){'use strict';this._broadcastUpdateImpl(false);};na.prototype._broadcastError=function(){'use strict';this._broadcastUpdateImpl(true);};na.prototype._broadcastUpdateImpl=function(oa){'use strict';if(!this._receivingUpdate){var pa={selector_type:this._selectorSyncKey,unique_id:this._menu._config.id};if(oa){pa.is_error=oa;}else{var qa=this._getSelectedOption();pa.post_param=qa.getPostParam().toString();}w.handleUpdateFromSelector(pa);}};na.prototype.shouldReplaceOnPost=function(){'use strict';return this._config.replace_on_post||this.isComposerWithDefault();};na.prototype.isComposerWithDefault=function(){'use strict';return this._syncsToDefault()&&!this._config.replace_on_select;};na.prototype._isSelectorForChangingComposerDefault=function(){'use strict';return this._syncsToDefault&&this._config.replace_on_select;};na.prototype._syncsToDefault=function(){'use strict';return this._config.selector_sync_key==u.PrivacyField.DEFAULT_COMPOSER.toString();};na.prototype.getIsPublicSelected=function(){'use strict';return this._selectedOption&&this._selectedOption.isPublic();};na.prototype.getIsFriendsSelected=function(){'use strict';return this._selectedOption&&this._selectedOption.isFriends();};na.prototype.getIsOnlyMeSelected=function(){'use strict';return this._selectedOption&&this._selectedOption.isOnlyMe();};na.prototype.getSelectedBaseValue=function(){'use strict';return this._selectedOption&&this._selectedOption.getBaseValue();};na.prototype.getSelectedPostParam=function(){'use strict';return this._selectedOption&&this._selectedOption.getPostParam().toString();};na.prototype.getIsCustomOptionSelected=function(){'use strict';return this._selectedOption&&this._selectedOption.isCustomOption();};na.prototype.setValue=function(oa){'use strict';this._menu.setValue(oa);};na.prototype.openSelectorExpanded=function(oa){'use strict';this.openSelector(function(){this._menu.expandMenu();oa&&oa();}.bind(this));};na.prototype.openSelector=function(oa){'use strict';if(this._menu instanceof t){this.subscribeOnce('asyncMenuLoaded',function(){oa&&oa();}.bind(this));this._popover.showLayer();}else{this._popover.showLayer();oa&&oa();}};na.prototype.closeSelector=function(){'use strict';this._popover.hideLayer();};na.prototype.getPopover=function(){'use strict';return this._popover;};na.prototype.getTriggerButtonElement=function(){'use strict';return this._button;};na.prototype.getRoot=function(){'use strict';return this._root;};na.prototype.getMenuElement=function(){'use strict';return this._menu.getRoot();};na.prototype.selectDefaultOption=function(){'use strict';this._menu.selectDefaultOption();this._updateMenu();};na.prototype.selectOption=function(oa){'use strict';if(!oa)return;if(this._menu instanceof t){this.subscribeOnce('asyncMenuLoaded',this._selectOptionImpl.bind(this,oa));this._fetchAsyncMenu();}else this._selectOptionImpl(oa);};na.prototype._selectOptionImpl=function(oa){'use strict';this._menu.selectOption(oa);this._updateMenu();};na.prototype._updateMenu=function(){'use strict';this._selectedOption=this._getSelectedOption();this.updateDataForItemIndex(this._selectedOption.getIndex(),this._selectedOption.getPostParam().toString());};na.prototype.setTagExpansionButton=function(oa){'use strict';this._tagExpansionButton=oa;if(this._hasAudienceExpansion()){this._menu.updateOptionsAfterTagExpansion(this._showTagExpansion());this._updateTriggerButtonLabel();this._updateTooltipAfterChange();}};na.prototype.getTagExpansionButton=function(){'use strict';return this._tagExpansionButton;};na.prototype._initTagExpansionButtonState=function(){'use strict';this._tagExpansionButton=ba.FRIENDS_OF_TAGGED;var oa=this._getSelectedOption();if(!oa)return;var pa=JSON.parse(oa.getPostParam());if(pa.settings&&pa.settings.no_tag_expansion===true){this._tagExpansionButton=ba.TAGGED_ONLY;}else this._tagExpansionButton=ba.FRIENDS_OF_TAGGED;};na.prototype._fetchAsyncMenu=function(){'use strict';if(this._config.use_async_menu)this._popoverMenu.fetchMenu();};na.prototype._getSelectedOption=function(){'use strict';if(!(this._menu instanceof y))return;var oa;this._menu.forEachItem(function(pa){if(pa instanceof r&&pa.isSelected())oa=pa;}.bind(this));return oa;};na.prototype._onItemClick=function(oa,pa){'use strict';var qa=pa.item;if(qa instanceof q)return;if(qa.isBasicOption()){this.updateDataForItemIndex(qa.getIndex(),qa.getPostParam().toString());}else if(qa.isCustomOption()){this._closeForCustom=true;qa.openDialog(this);}this.inform('click',{customSelected:qa.isCustomOption()});};na.prototype.getContentType=function(){'use strict';return this._contentType;};na.prototype.getRenderLocation=function(){'use strict';return this._renderLocation;};na.prototype.getPostParam=function(){'use strict';return this._postParam;};na.prototype.getTags=function(){'use strict';return this._tags;};na.prototype.registerConfirmOnSaveDialog=function(oa,pa,qa){'use strict';this._confirmOnSave=true;if(!(oa in this._confirmOnSaveDialogs))this._confirmOnSaveDialogs[oa]={};qa.subscribe('hide',function(){if(this._previousParam!==this._postParam)this.selectOption(this._previousParam);}.bind(this));qa.subscribe('button',function(){this._savePrivacy();qa.hide();}.bind(this));this._confirmOnSaveDialogs[oa][pa]=qa;};na.prototype.updateDataForItemIndex=function(oa,pa,qa){'use strict';if(qa){this._tagExpansionButton=qa;this.inform('CustomTagExpansion',this._tagExpansionButton);}var ra=this._menu.getItemForIndex(oa);if(ra.isCustomOption())ra.setPostParam(pa);this._selectedOption=ra;this._previousParam=this._postParam;this._postParam=pa;p.setValue(this._input,pa);this._updateTriggerButtonLabel();if(this._shouldUpdateTooltips()){this._updateTooltipAfterChange();}else{if(this._isSavedOnSelect)if(this._confirmOnSave&&this._previousParam in this._confirmOnSaveDialogs&&this._postParam in this._confirmOnSaveDialogs[this._previousParam]){this._confirmOnSaveDialogs[this._previousParam][this._postParam].show();}else this._savePrivacy();this._setTooltipValue(this._selectedOption.getTooltip());}this.inform('changed',{post_param:this._postParam,base_value:this.getSelectedBaseValue()});};na.prototype._shouldUpdateTooltips=function(){'use strict';return this._prefixTooltipApps||this._supportsTagExpansion||this.getIsCustomOptionSelected();};na.prototype._savePrivacy=function(){'use strict';this._previousParam=this._postParam;this._sendUpdateRequest();};na.prototype.reloadSelector=function(){'use strict';this._cleanup();var oa=ea.getURIBuilder().setString('privacy_fbid',String(this._privacyFBID)).setString('post_param',this._postParam).setInt('render_location',this._renderLocation).setBool('reload_selector',true).setString('ent_id',String(this._entID)).getURI();new j().setRelativeTo(this._root).setHandler(this.inform.bind(this,'reloaded')).setURI(oa).send();};na.prototype._sendUpdateRequest=function(){'use strict';var oa=this._isSavedOnSelect&&!this._receivingUpdate,pa=this._shouldUpdateTooltips();if(!oa&&!pa){this._receivingUpdate=false;return;}if(this._shouldDisplaySuccessAndFailure()){l.setIcon(this._button,this._config.spinner);m.show(this._config.spinner);m.hide(this._config.checkmark);}var qa=ea.getURIBuilder().setString('privacy_fbid',String(this._privacyFBID)).setString('post_param',this._postParam).setIntVector('tags',this._tags).setInt('render_location',this._renderLocation).setBool('is_saved_on_select',oa).setBool('should_return_tooltip',pa).setBool('prefix_tooltip_with_app_privacy',this._prefixTooltipApps).setBool('replace_on_select',this._config.replace_on_select).setString('ent_id',String(this._entID)).setString('tag_expansion_button',this._tagExpansionButton).getURI(),ra=new j().setRelativeTo(this._root).setHandler(ga(this,function(sa){if(this._shouldDisplaySuccessAndFailure()&&!this._receivingUpdate){m.hide(this._config.spinner);this._updateTriggerButtonLabel();if(this._config.checkmark){this._updateTriggerButtonLabel();var ta=l.getIcon(this._button);m.hide(ta);new k(this._config.checkmark).show().from('opacity',0).to('opacity',1).duration(400).checkpoint().duration(200).checkpoint().from('opacity',1).to('opacity',0).duration(400).hide().ondone(function(){new k(ta).show().from('opacity',0).to('opacity',1).duration(300).go();}).go();}this._broadcastUpdate();}if(this._config.replace_on_select)this._cleanup();if(this._isSelectorForChangingComposerDefault())this._broadcastUpdate();var ua=sa&&sa.payload&&sa.payload.tooltip;ua&&this._setTooltipValue(sa.payload.tooltip);this.inform('selector_updated');})).setFinallyHandler(ga(this,function(sa){this._receivingUpdate=false;})).setURI(qa);if(this._shouldDisplaySuccessAndFailure())ra.setErrorHandler(ga(this,function(sa){if(this._receivingUpdate){this._displayErrorWithoutFocus();return;}this._menu.selectOption(this._previousParam);this._postParam=this._previousParam;this._displayError();this._broadcastError();}));ra.send();};na.prototype._displayError=function(){'use strict';this._displayErrorImpl(true);};na.prototype._displayErrorWithoutFocus=function(){'use strict';this._displayErrorImpl(false);};na.prototype._displayErrorImpl=function(oa){'use strict';if(this._shouldDisplaySuccessAndFailure()){s.setLabel(this._button,ia._("Select Audience"));l.setIcon(this._button,this._config.error_icon);m.show(this._config.error_icon);ca.remove(this._button);oa&&o.setWithoutOutline(this._button);fa.set({target:this._button,message:ia._("Your selection might not have been saved. We recommend trying again later.")});}};na.prototype.informTagsChanged=function(oa){'use strict';var pa=this._getTags(oa);this.informTagsChangedWithIDs(pa);};na.prototype.informTagsChangedWithIDs=function(oa){'use strict';var pa=!oa.length;if(this._hasTags===pa){this._hasTags=!!oa.length;this._menu.updateOptionsAfterTagExpansion(this._showTagExpansion());this._updateTriggerButtonLabel();}if(this._tags.length!==oa.length){this._tags=oa;this._updateTooltipAfterChange();h.inform('PrivacySelectorBase/changed',this._getChangedData());}};na.prototype._getChangedData=function(){'use strict';return {tags:this._tags,privacy:this.getSelectedBaseValue()};};na.prototype._showTagExpansion=function(){'use strict';return this._hasTags&&this._tagExpansionButton.valueOf()===ba.FRIENDS_OF_TAGGED.valueOf();};na.prototype._getTags=function(oa){'use strict';var pa=[],qa=n.getID();if(oa.withTags)for(var ra=0;ra<oa.withTags.length;ra++){var sa=oa.withTags[ra].info;if(sa.uid!=qa)pa.push(sa.uid);}if(oa.mention)for(var ta in oa.mention)if(oa.mention[ta].type=='user'&&oa.mention[ta].uid!=qa)pa.push(oa.mention[ta].uid);return pa;};na.prototype._updateTriggerButtonLabel=function(){'use strict';var oa=this._selectedOption.getTriggerIcon();if(this._config.trigger_no_icon)m.hide(oa);l.setIcon(this._button,oa.cloneNode());if(!this._shouldDisplayLabel)return;s.setLabel(this._button,this._selectedOption.getLabel());if(this._config.trigger_style===ma){m.conditionClass(this.getTriggerButtonElement(),"_mw-",this.getIsOnlyMeSelected());m.conditionClass(this.getTriggerButtonElement(),"_mw_",this.getIsPublicSelected());}};na.prototype._updateTooltipAfterChange=function(){'use strict';var oa=ia._("Loading...");this._setTooltipValue(oa);this._sendUpdateRequest();};na.prototype._setTooltipValue=function(oa){'use strict';oa&&ca.set(this._button,oa);};na.prototype._onPopoverClose=function(){'use strict';if(!this._getSelectedOption())return;if(this._closeForCustom){this._closeForCustom=false;}else this.inform('selectorFinished');this.inform('close');};na.prototype._onPopoverOpen=function(){'use strict';if(!(this._menu instanceof y))return;this._menu.onPopoverOpen(this._getSelectedOption());var oa=da.getURIBuilder().setEnum('event','opened').setInt('render_location',this._renderLocation).setString('content_type',this._contentType).getURI();new j().setURI(oa).send();this.inform('open');};na.prototype._onMenuLoad=function(){'use strict';this._listeners.addSubscriptions(this._menu.subscribe('itemclick',this._onItemClick.bind(this)),this._popover.subscribe('hide',this._onPopoverClose.bind(this)),this._popover.subscribe('show',this._onPopoverOpen.bind(this)));this._listeners.addSubscriptions(this._menu.subscribe('expandMenu',function(){if(this._popover&&this._popover.getLayer())this._popover.getLayer().updatePosition();}.bind(this)));this._selectedOption=this._getSelectedOption();if(this._selectedOption){this._postParam=this._selectedOption.getPostParam().toString();this._previousParam=this._postParam;this._hasAudienceExpansion()&&this._updateTriggerButtonLabel();}};na.prototype._hasAudienceExpansion=function(){'use strict';return this._hasTags;};na.prototype._shouldDisplaySuccessAndFailure=function(){'use strict';return this._config.spinner&&this._config.checkmark&&this._config.error_icon;};f.exports=na;},null);
__d('DirectionalDockingElement',['Arbiter','ArbiterMixin','DOM','DOMDimensions','Event','Run','Scroll','Style','SubscriptionsHandler','UITinyViewportAction','ViewportBounds','getElementPosition','mixin','queryThenMutateDOM','removeFromArray','onEnclosingPageletDestroy'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){var x,y;if(c.__markCompiled)c.__markCompiled();var z=true,aa=false,ba='unfixed',ca='fixed_top',da='fixed_middle',ea,fa=[];function ga(){u(function(){return fa.forEach(function(ka){return ka._queryDOM();});},function(){return fa.forEach(function(ka){return ka._updateWithCache();});},'DirectionalDockingElement');}function ha(ka){fa.push(ka);if(!ea){ea=new p();ea.addSubscriptions(l.listen(window,'scroll',ga),l.listen(window,'resize',ga),m.onLeave(function(){while(fa.length){fa[0].destroy();ia(fa[0]);}}));}return ea;}function ia(ka){v(fa,ka);if(!ea||fa.length)return;ea.release();ea=null;}x=babelHelpers.inherits(ja,t(i));y=x&&x.prototype;function ja(ka){'use strict';y.constructor.call(this);this.$DirectionalDockingElement1=ka;this.$DirectionalDockingElement2=0;var la=ha(this);this.$DirectionalDockingElement3=la.addSubscriptions(w(ka,function(){return this.destroy();}.bind(this)));this.$DirectionalDockingElement4=r.getTop();this.$DirectionalDockingElement5=ca;o.set(this.$DirectionalDockingElement1,'width',k.getElementDimensions(this.$DirectionalDockingElement1).width+'px');this.$DirectionalDockingElement6=j.create('div');o.set(this.$DirectionalDockingElement6,'position','relative');j.replace(this.$DirectionalDockingElement1,this.$DirectionalDockingElement6);j.appendContent(this.$DirectionalDockingElement6,this.$DirectionalDockingElement1);this.update();}ja.prototype.destroy=function(){'use strict';try{this.$DirectionalDockingElement3&&h.unsubscribe(this.$DirectionalDockingElement3);}catch(ka){}finally{this.$DirectionalDockingElement3=null;}if(this.$DirectionalDockingElement6&&this.$DirectionalDockingElement6.parentNode){j.remove(this.$DirectionalDockingElement6);this.$DirectionalDockingElement6=null;}if(fa.indexOf(this)===-1)return;ia(this);};ja.prototype.$DirectionalDockingElement7=function(){'use strict';var ka=-s(this.$DirectionalDockingElement6).y;if(ka!==this.$DirectionalDockingElement8){this.$DirectionalDockingElement9=ka>this.$DirectionalDockingElement8?aa:z;this.$DirectionalDockingElement8=ka;}this.$DirectionalDockingElement10=k.getElementDimensions(this.$DirectionalDockingElement1);this.$DirectionalDockingElement11=n.getTop(document.body)+document.documentElement.clientHeight>document.documentElement.scrollHeight;};ja.prototype.$DirectionalDockingElement12=function(ka,la){'use strict';if(this.$DirectionalDockingElement13!==ka||this.$DirectionalDockingElement14!==la){o.apply(this.$DirectionalDockingElement1,{position:ka,top:la+'px'});this.$DirectionalDockingElement13=ka;this.$DirectionalDockingElement14=la;}};ja.prototype.$DirectionalDockingElement15=function(){'use strict';this.$DirectionalDockingElement5=ca;this.$DirectionalDockingElement12('fixed',this.$DirectionalDockingElement4);};ja.prototype.$DirectionalDockingElement16=function(){'use strict';this.$DirectionalDockingElement5=da;this.$DirectionalDockingElement12('fixed',this.$DirectionalDockingElement2);};ja.prototype.$DirectionalDockingElement17=function(){'use strict';this.$DirectionalDockingElement5=ba;this.$DirectionalDockingElement12('absolute',this.$DirectionalDockingElement18);};ja.prototype.$DirectionalDockingElement19=function(){'use strict';var ka=this.$DirectionalDockingElement10.height;if(ka!==this.$DirectionalDockingElement20){o.set(this.$DirectionalDockingElement6,'height',ka+'px');this.$DirectionalDockingElement20=ka;this.inform('changedheight');}if(this.$DirectionalDockingElement5===ca){this.$DirectionalDockingElement18=this.$DirectionalDockingElement8+this.$DirectionalDockingElement4;}else if(this.$DirectionalDockingElement5===da)this.$DirectionalDockingElement18=this.$DirectionalDockingElement8+this.$DirectionalDockingElement2;if(this.$DirectionalDockingElement11)return;if(this.$DirectionalDockingElement8+this.$DirectionalDockingElement4<=0||q.isTiny()){this.$DirectionalDockingElement18=0;this.$DirectionalDockingElement17();return;}if(this.$DirectionalDockingElement9===aa&&this.$DirectionalDockingElement8+this.$DirectionalDockingElement2>=this.$DirectionalDockingElement18){this.$DirectionalDockingElement16();}else if(this.$DirectionalDockingElement9===z&&this.$DirectionalDockingElement8+this.$DirectionalDockingElement4<=this.$DirectionalDockingElement18){this.$DirectionalDockingElement15();}else this.$DirectionalDockingElement17();};ja.prototype.update=function(){'use strict';this.$DirectionalDockingElement7();this.$DirectionalDockingElement19();};ja.prototype.setOffset=function(ka){'use strict';this.$DirectionalDockingElement2=ka;this.update();return this;};f.exports=ja;},null);
__d('DockingElement',['Arbiter','ArbiterMixin','CSS','DOM','DOMDimensions','Event','Run','Style','SubscriptionsHandler','UITinyViewportAction','getElementPosition','mixin','queryThenMutateDOM','removeFromArray','onEnclosingPageletDestroy'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){var w,x;if(c.__markCompiled)c.__markCompiled();var y,z=[];function aa(){t(function(){return z.forEach(function(ea){return ea.getRect();});},function(){return z.forEach(function(ea){return ea.updateWithCache();});},'DockingElement');}function ba(ea){z.push(ea);if(!y){y=new p();y.addSubscriptions(m.listen(window,'scroll',aa),m.listen(window,'resize',aa),n.onLeave(function(){while(z.length){z[0].destroy();ca(z[0]);}}));}return y;}function ca(ea){u(z,ea);if(!y||z.length)return;y.release();y=null;}w=babelHelpers.inherits(da,s(i));x=w&&w.prototype;function da(ea){'use strict';x.constructor.call(this);this.$DockingElement11=ea;this.$DockingElement6=0;this.update();var fa=ba(this);this.$DockingElement7=fa.addSubscriptions(v(ea,function(){return this.destroy();}.bind(this)));}da.prototype.destroy=function(){'use strict';try{this.$DockingElement7&&h.unsubscribe(this.$DockingElement7);}catch(ea){}finally{this.$DockingElement7=null;}if(this.$DockingElement8&&this.$DockingElement8.parentNode){k.remove(this.$DockingElement8);this.$DockingElement8=null;}ca(this);};da.prototype.getRect=function(){'use strict';var ea=this.$DockingElement5?this.getPlaceholder():this.$DockingElement11;this.$DockingElement10=r(ea);this.$DockingElement3=l.getElementDimensions(ea);};da.prototype.updateWithCache=function(){'use strict';var ea=this.$DockingElement6,fa=this.getPlaceholder();if(!q.isTiny()&&this.$DockingElement10.y<=ea){if(!this.$DockingElement5&&this.$DockingElement11.parentNode){if(!this.$DockingElement4){k.insertAfter(this.$DockingElement11,fa);this.$DockingElement4=true;}j.addClass(this.$DockingElement11,'fixed_elem');j.show(fa);this.$DockingElement5=true;}var ga;if(this.$DockingElement2!==ea){ga={};ga.top=ea+'px';this.$DockingElement2=ea;}var ha=this.$DockingElement3.width;if(ha!==this.$DockingElement1){ga=ga||{};ga.width=ha+'px';this.$DockingElement1=ha;}ga&&o.apply(this.$DockingElement11,ga);var ia=this.$DockingElement3.height;if(ia!==this.$DockingElement9){o.set(fa,'height',ia+'px');this.$DockingElement9=ia;this.inform('changedheight');}}else if(this.$DockingElement5){o.apply(this.$DockingElement11,{top:'',width:''});j.removeClass(this.$DockingElement11,'fixed_elem');j.hide(fa);this.$DockingElement5=false;this.$DockingElement1=null;this.$DockingElement2=null;}};da.prototype.update=function(){'use strict';this.getRect();this.updateWithCache();};da.prototype.getPlaceholder=function(){'use strict';if(!this.$DockingElement8)this.$DockingElement8=k.create('div');return this.$DockingElement8;};da.prototype.setOffset=function(ea){'use strict';this.$DockingElement6=ea;this.update();return this;};f.exports=da;},null);
__d('StickyRHC',['$','Arbiter','DirectionalDockingElement','DockingElement','DOMDimensions','DOMQuery','Event','Run','SubscriptionsHandler','ViewportBounds','csx','ge','getElementPosition','getViewportDimensions','removeFromArray','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x=35,y=[],z;function aa(ea,fa){if(!fa||!fa.dom_id){y.forEach(ba);return;}var ga=h(fa.dom_id);for(var ha=0;ha<y.length;ha++)if(m.contains(y[ha].getRoot(),ga)){ba(y[ha]);return;}}function ba(ea){var fa=ea.getRoot(),ga=ea.updateOffset.bind(ea),ha=m.scry(fa,'img.img');ha.forEach(function(ia){if(ia.complete||ia.getAttribute('height')||typeof ia.naturalHeight!=='undefined'&&ia.naturalHeight!==0)return;var ja=function(){ga();ka.remove();la.remove();ma.remove();},ka=n.listen(ia,'load',ja),la=n.listen(ia,'error',ja),ma=n.listen(ia,'abort',ja);});ga();}function ca(){y.forEach(function(ea){ea.updateOffset();});}function da(ea,fa){'use strict';this.$StickyRHC1=ea;this.$StickyRHC2=fa?new j(ea):new k(ea);this.$StickyRHC3=0;this.$StickyRHC2.subscribe('changedheight',this.updateOffset.bind(this));this.updateOffset();ba(this);if(!y.length){z=new p();z.addSubscriptions(i.subscribe('header_loaded',ca),i.subscribe('netego_loaded',aa),i.subscribe('pagelet_trending_tags_and_topics_displayed',ca),i.subscribe('browse_top_filters_full_width_displayed',ca),i.subscribe('takeover_survey_closed',ca),n.listen(window,'resize',w(ca)));}o.onLeave(function(){return this.destroy;}.bind(this));y.push(this);}da.getInstances=function(){'use strict';return y;};da.prototype.getRoot=function(){'use strict';return this.$StickyRHC1;};da.prototype.destroy=function(){'use strict';this.$StickyRHC2=null;v(y,this);if(!y.length){z.release();z=null;}};da.prototype.updateOffset=function(){'use strict';var ea=da.getNewOffset(this.$StickyRHC1,this.$StickyRHC4,this.$StickyRHC3);this.$StickyRHC2.setOffset(ea+this.$StickyRHC3);};da.getNewOffset=function(ea,fa,ga){'use strict';var ha=m.scry(ea,"._4-u2"),ia=m.scry(ea,"._4-u3"),ja=m.scry(ea,"._5eh2"),ka=m.scry(ea,'.uiHeader'),la=m.scry(ea,'.ego_unit'),ma=[].concat(ha,ia,ja,ka,la),na=[];ma.forEach(function(xa){na.push(t(xa).y);});na.sort(function(xa,ya){return xa-ya;});var oa=t(ea).y,pa=l.getElementDimensions(ea).height;pa+=ga;var qa=q.getTop(),ra=u().height-qa;ra-=x;if(typeof fa==='undefined'){var sa=s('pageFooter');fa=sa?l.getElementDimensions(sa).height:0;}ra-=fa;var ta=ra-pa;if(pa<ra){ta=qa;}else for(var ua=0,va=na.length;ua<va;ua++){var wa=na[ua]-oa;if(pa-wa<ra){ta=qa-wa;break;}}return ta;};da.prototype.setOffset=function(ea){'use strict';this.$StickyRHC3=ea;this.updateOffset();};da.prototype.getOffset=function(ea){'use strict';return this.$StickyRHC3;};f.exports=da;},null);
__d('FbFeedKeyboardController',['CSS','DOM','DOMQuery','FbFeedHighlight','FeedBaseKeyboardController','Focus','JSXDOM','Parent','csx','cx','ge','getActiveElement','isElementNode'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u,v;if(c.__markCompiled)c.__markCompiled();function w(z){if(z.previousElementSibling)return z.previousElementSibling;z=z.previousSibling;while(z&&!t(z))z=z.previousSibling;return z||null;}function x(z){if(z.nextElementSibling)return z.nextElementSibling;z=z.nextSibling;while(z&&!t(z))z=z.nextSibling;return z||null;}u=babelHelpers.inherits(y,l);v=u&&u.prototype;y.prototype.getStories=function(z){'use strict';return j.scry(z||this.root,"._5jmm");};y.prototype.isHoldoutStory=function(z){'use strict';return !!z&&h.hasClass(z,'holdoutAdStory');};y.prototype.isRelevantStory=function(z){'use strict';return t(z)&&!this.isHoldoutStory(z);};y.prototype.isStory=function(z){'use strict';return h.hasClass(z,"_5jmm");};y.prototype.clickLike=function(){'use strict';var z=this.$FbFeedKeyboardController1();this.clickElement(z,'.UFILikeLink');if(z!==this.selected)return null;var aa=this.getParentStory(s());if(aa){var ba=j.scry(aa,'.UFILikeLink');for(var ca=0;ca<ba.length;ca++)if(!h.hasClass(ba[ca],'accessible_elem'))m.setWithoutOutline(ba[ca]);}};y.prototype.clickComment=function(){'use strict';this.clickElement(this.$FbFeedKeyboardController1(),'.comment_link');};y.prototype.clickShare=function(){'use strict';this.click('.share_action_link');};y.prototype.clickSeeMore=function(){'use strict';this.click('.see_more_link');};y.prototype.clickLeft=function(){'use strict';this.click("._1mri");};y.prototype.clickRight=function(){'use strict';this.click("._2fu-");};y.prototype.openAttachment=function(){'use strict';this.click("._5dec","a._52c6","._4-eo",'.uiVideoThumb');};y.prototype.getHeadline=function(z){'use strict';return j.scry(z,"h5._5pbw")[0];};y.prototype.$FbFeedKeyboardController2=function(z){'use strict';var aa=o.bySelector(z,"._5pcb"),ba=r('pagelet_soft_permalink_posts');return !!(aa||ba&&i.contains(ba,z));};y.prototype.getPreviousSibling=function(z){'use strict';var aa=w(z);if(aa&&this.getParentStory(aa))return aa;aa=null;if(this.$FbFeedKeyboardController2(z)){var ba=this.getStories(this.root),ca=ba.indexOf(z);while(ca>-1){if(ca===0){aa=r('pagelet_composer');aa=aa&&o.bySelector(aa,"._5jmm");}else if(ca>0){aa=ba[ca-1];if(aa.offsetHeight>0)break;}ca--;}}return aa||this.selected;};y.prototype.getPreviousStory=function(z){'use strict';var aa=this.getPreviousSibling(z);while(aa&&!this.isStory(aa))aa=this.getPreviousSibling(aa);return aa;};y.prototype.getParentStory=function(z){'use strict';return o.bySelector(z,"._5jmm");};y.prototype.getNextSibling=function(z){'use strict';var aa=x(z);if(aa&&this.getParentStory(aa))return aa;aa=null;if(this.$FbFeedKeyboardController2(z)){var ba=this.getStories(this.root),ca=ba.indexOf(z);if(ca>-1){aa=ba[++ca];while(aa&&aa.offsetHeight===0)aa=ba[++ca];}}else if(r('pagelet_composer',z))aa=j.scry(document,"div._5pcb ._5jmm")[0];return aa||this.selected;};y.prototype.getNextStory=function(z){'use strict';var aa=this.getNextSibling(z);while(aa&&!this.isStory(aa))aa=this.getNextSibling(aa);return aa;};y.prototype.setSelected=function(z,aa){'use strict';if(z){var ba="_5qdu",ca=j.scry(z,"._5qdu");if(!ca.length&&aa)i.prependContent(z,n.div({className:ba}));}if(aa){this.selected&&this.setTabindexOnStory(this.selected,'-1');this.selected&&h.removeClass(this.selected,"_5qdv");this.selected=z;z&&this.setTabindexOnStory(z,'0');z&&h.addClass(z,"_5qdv");k.highlightSingle(z);}};y.prototype.$FbFeedKeyboardController1=function(){'use strict';var z=i.scry(this.selected,"._1qch");if(z.length>0)return i.scry(this.selected,"._3el7")[0];return this.selected;};y.init=function(z){'use strict';new y(z);};function y(){'use strict';u.apply(this,arguments);}f.exports=y;},null);