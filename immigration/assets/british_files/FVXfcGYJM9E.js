/*!CK:1607918293!*//*1456630147,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["LaFNz"]); }

__d("CreditCardTypeEnum",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={VISA:86,MASTERCARD:77,DISCOVER:68,AMERICANEXPRESS:65,DINERSCLUB:64,JCB:74};},null);
__d("P2PChannelType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CREDIT_CARD_CHANGED:"P2P\/CreditCardChanged",CREDIT_CARD_DELETED:"P2P\/CreditCardDeleted",TRANSFER_STATUS_CHANGED:"P2P\/TransferStatusChanged",PLATFORM_CONTEXT_NEW:"P2P\/PlatformContextNew",PLATFORM_CONTEXT_DISMISSED:"P2P\/PlatformContextDismissed",PLATFORM_CONTEXT_ELIGIBLE_ITEM_UPDATED:"P2P\/PlatformContextEligibleItemUpdated",PAYMENT_REQUEST_STATUS_CHANGED:"P2P\/PaymentRequestStateChanged"};},null);
__d("P2PLinkConstants",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={receiverIneligibleHelpURI:"http:\/\/www.facebook.com\/help\/1495718484027862",addDebitCardHelpURI:"http:\/\/www.facebook.com\/help\/200298266807261",helpCenterURI:"http:\/\/www.facebook.com\/help\/863171203733904",contactSupportURI:"http:\/\/www.facebook.com\/help\/contact\/1491759007768605",disabledPaymentsSupportURI:"http:\/\/www.facebook.com\/help\/contact\/223254857690713",complianceLearnMoreURI:"http:\/\/www.facebook.com\/help\/1555715811351399",complianceLearnMoreMsiteURI:"http:\/\/www.facebook.com\/help\/messenger-app\/369959656515129",contactFraudTeamURI:"http:\/\/www.facebook.com\/help\/contact\/370238886476028",payerProtectionURI:"http:\/\/www.facebook.com\/payer_protection\/",helpTransferSystemFailureURI:"http:\/\/www.facebook.com\/help\/contact\/614010102040957",helpTransferManualReviewURI:"http:\/\/www.facebook.com\/help\/messenger-app\/1463256903894928",helpTransferRecipientCanceledURI:"http:\/\/www.facebook.com\/help\/messenger-app\/1564459413784472",helpTransferCompletedURI:"http:\/\/www.facebook.com\/help\/messenger-app\/750020781733477",helpTransferCanceledSameCardURI:"http:\/\/www.facebook.com\/help\/messenger-app\/818512131561533",settingsWWWURI:"http:\/\/www.facebook.com\/settings?tab=payments",settingsMsiteURI:"http:\/\/m.facebook.com\/settings\/p2p\/",mTermsURI:"http:\/\/www.facebook.com\/legal\/m",mHelpURI:"http:\/\/www.facebook.com\/help\/messenger-app\/870471599656315",disputeURI:"http:\/\/www.facebook.com\/help\/contact\/828169843971429",paymentMethodsURI:"https:\/\/www.facebook.com\/settings?tab=payments&section=settings",paymentHistoryURI:"https:\/\/www.facebook.com\/settings?tab=payments&section=history"};},null);
__d("P2PPasswordProtectionParam",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={STATUS:"status"};},null);
__d("P2PPaymentCampaignNames",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ZANGOOSE:"zangoose",SEVIPER:"seviper",PICHU:"pichu"};},null);
__d("P2PPaymentMethodCategory",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CREDIT_CARD:"credit_card",DEBIT_CARD:"debit_card",PREPAID_CARD:"prepaid_card"};},null);
__d("P2PTransferParam",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={TRANSFER_ID:"transfer_id",STATUS:"status",SENDER_STATUS:"sender_status",RECEIVER_STATUS:"receiver_status",RISK_RESULT:"risk_result"};},null);
__d('MessengerText.react',['ReactComponentWithPureRenderMixin','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=i.createClass({displayName:'MessengerText',mixins:[h],propTypes:{display:l.oneOf(['inline','block']),type:l.oneOf(['primary','secondary']).isRequired,size:l.oneOf(['small'])},render:function(){return (i.createElement('div',babelHelpers['extends']({},this.props,{className:k("_39r5"+(this.props.type==='primary'?' '+"_39r6":'')+(this.props.type==='secondary'?' '+"_39r7":'')+(this.props.size==='small'?' '+"_39r8":'')+(this.props.display==='inline'?' '+"__0d":''),this.props.className)}),this.props.children));}});f.exports=m;},null);
__d('P2PAPIUtils',['CreditCardFormParam','fbt','guid'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=[1001,1004,1006,1002],l={getRandomDigits:function(m){return Math.random().toString().slice(2,2+m);},genRequestID:function(){return 'id:'+j()+':'+Date.now();},genOfflineThreadingID:function(){return Date.now()+''+l.getRandomDigits(6);},getUncaughtErrorMessage:function(m){if(m&&k.indexOf(m)!==-1)return i._("Sorry, we were unable to complete your request. Please check that you are connected to the internet or refresh this page and try again.");return i._("Sorry, something went wrong. Please try again later.");},prepareCardMutationData:function(m){var n={},o=m[h.CARD_NUMBER].replace(/ /g,'');n[h.CARD_NUMBER]=o;if(typeof m[h.CARD_EXPIRATION]==='string'){var p=m[h.CARD_EXPIRATION].split('/');n[h.MONTH]=p[0];n[h.YEAR]=p[1];n[h.CARD_EXPIRATION]={};n[h.CARD_EXPIRATION][h.MONTH]=n[h.MONTH];n[h.CARD_EXPIRATION][h.YEAR]=n[h.YEAR];}else{n[h.MONTH]=m[h.CARD_EXPIRATION][h.MONTH];n[h.YEAR]=m[h.CARD_EXPIRATION][h.YEAR];}return babelHelpers['extends']({},m,n);}};f.exports=l;},null);
__d("XMoneypennyPaymentsCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/moneypenny\/payments\/_create\/",{});},null);
__d("XP2PAddressCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/address\/_create\/",{});},null);
__d("XP2PAddressesController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/addresses\/",{});},null);
__d("XP2PBannerDismissalsUpdateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/banner_dismissals\/_update\/",{banner_type:{type:"String",required:true}});},null);
__d("XP2PBannerStatesController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/banner_states\/",{});},null);
__d("XP2PBannerViewsUpdateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/banner_views\/_update\/",{banner_type:{type:"String",required:true}});},null);
__d("XP2PCardBINValidateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/card_bin\/validate\/",{bin_number:{type:"String",required:true}});},null);
__d("XP2PCreditCardCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/credit_cards\/_create\/",{});},null);
__d("XP2PCreditCardDeleteController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/credit_cards\/_delete\/",{});},null);
__d("XP2PCreditCardUpdateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/credit_cards\/_update\/",{});},null);
__d("XP2PCreditCardVerifyController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/credit_cards\/_verify\/",{});},null);
__d("XP2PCreditCardsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/credit_cards\/",{});},null);
__d("XP2PCurrentUserProfileDataController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/current_user_profile_data\/",{});},null);
__d("XP2PExtensiveTransferDetailsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transaction\/details\/",{id:{type:"String",required:true}});},null);
__d("XP2PFriendPickerController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/friend_picker\/",{limit:{type:"Int",defaultValue:100},query:{type:"String"}});},null);
__d("XP2PPasswordProtectionStatusController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/password_protection_status\/",{});},null);
__d("XP2PPasswordProtectionStatusUpdateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/password_protection_status\/_update\/",{});},null);
__d("XP2PPaymentRequestCancelController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/payment_requets\/_cancel\/",{});},null);
__d("XP2PPaymentRequestCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/payment_requests\/_create\/",{});},null);
__d("XP2PPaymentRequestDeclineController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/payment_requets\/_decline\/",{});},null);
__d("XP2PPendingPaymentRequestsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/pending_payment_requests\/",{});},null);
__d("XP2PPlatformMsgrCommerceCartCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/platform\/msgr_commerce\/create\/",{});},null);
__d("XP2PPlatformSetShippingAddressController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/platform\/set_shipping_address\/",{});},null);
__d("XP2PPresetCreditCardSetController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/preset_credit_card\/_set\/",{});},null);
__d("XP2PProductItemBannerController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/product_item_banner\/",{other_user_id:{type:"String",required:true}});},null);
__d("XP2PProductItemBannerDismissalController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/product_item_banner\/_dismiss\/",{platform_context_id:{type:"String",required:true}});},null);
__d("XP2PProductItemBannerMarkSoldController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/product_item_banner\/_mark_sold\/",{platform_context_id:{type:"String",required:true}});},null);
__d("XP2PTransactionsCampaignCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transactions\/campaign\/_create\/",{});},null);
__d("XP2PTransactionsCancelController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transactions\/_cancel\/",{});},null);
__d("XP2PTransactionsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transactions\/",{since:{type:"Int"}});},null);
__d("XP2PTransactionsCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transactions\/_create\/",{});},null);
__d("XP2PTransactionsDeclineController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/transactions\/_decline\/",{});},null);
__d("XP2PUserEligibilityController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/p2p\/user_eligibility\/",{user_ids:{type:"StringVector",required:true}});},null);
__d('P2PAPI',['AsyncRequest','CreditCardFormParam','P2PActions','P2PAPIUtils','P2PLogger','P2PGKValues','P2PPasswordProtectionParam','P2PPaymentCampaignNames','P2PPaymentLoggerEvent','P2PPaymentRequestStatus','P2PTransferParam','PaymentTokenProxyUtils','ImmutableObject','XMoneypennyPaymentsCreateController','XP2PAddressesController','XP2PAddressCreateController','XP2PBannerDismissalsUpdateController','XP2PBannerStatesController','XP2PBannerViewsUpdateController','XP2PCardBINValidateController','XP2PCreditCardDeleteController','XP2PCreditCardUpdateController','XP2PCreditCardCreateController','XP2PCreditCardVerifyController','XP2PCreditCardsController','XP2PCurrentUserProfileDataController','XP2PExtensiveTransferDetailsController','XP2PFriendPickerController','XP2PPasswordProtectionStatusController','XP2PPasswordProtectionStatusUpdateController','XP2PPaymentRequestCancelController','XP2PPaymentRequestCreateController','XP2PPaymentRequestDeclineController','XP2PPendingPaymentRequestsController','XP2PPlatformMsgrCommerceCartCreateController','XP2PPlatformSetShippingAddressController','XP2PPresetCreditCardSetController','XP2PProductItemBannerController','XP2PProductItemBannerDismissalController','XP2PProductItemBannerMarkSoldController','XP2PTransactionsCampaignCreateController','XP2PTransactionsCancelController','XP2PTransactionsCreateController','XP2PTransactionsController','XP2PTransactionsDeclineController','XP2PUserEligibilityController','emptyFunction','isEmpty'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,ab,bb,cb){'use strict';if(c.__markCompiled)c.__markCompiled();var db=function(fb,event){if(m.P2PWWWClientExceptionLogging)l.log(event,{exception_message:fb.getErrorDescription(),exception_code:fb.getError()});},eb={getAllCreditCards:function(){var fb=fa.getURIBuilder().getURI();new h().setURI(fb).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(gb){var hb=gb.getPayload(),ib=!hb.error?hb:[];j.updateCreditCards(ib);}).setErrorHandler(function(gb){j.updateCreditCardsError();}).send();},createTransaction:function(fb){var gb=xa.getURIBuilder().getURI(),hb={},ib=fb.formData,jb=fb.success||bb,kb=fb.error||bb;hb[i.CREDENTIAL_ID]=ib[i.CREDENTIAL_ID];hb.amount=ib.amount;hb.receiver_id=ib.receiverId;hb.offline_threading_id=k.genOfflineThreadingID();hb.group_thread_fbid=ib.group_thread_fbid;hb.platform_context_id=ib.platform_context_id;hb.shipping_address_id=ib.shippingAddressID;hb.shipping_option_id=ib.shippingOptionID;hb.memo_text=ib.memoText;hb.memo_image_ids=ib.memoPhotoIDs;hb.payment_request_id=ib.paymentRequestID;new h().setData(hb).setMethod('POST').setURI(gb).setAllowCrossPageTransition(true).setHandler(function(lb){var mb=lb?lb.getPayload():{};if(mb.error){kb(mb.error);}else{jb(mb);this.getAllCreditCards();if(hb.payment_request_id)j.paymentRequestUpdated({id:hb.payment_request_id,currentStatus:q.TRANSFER_COMPLETED});}}.bind(this)).setErrorHandler(function(lb){kb({message:k.getUncaughtErrorMessage(lb.getError())});db(lb,p.UI_ACTN_CREATE_TRANSFER_EXCEPTION);}).send();},addCreditCard:function(fb){j.ignoreCreditCardChannelEvents();var gb=da.getURIBuilder().getURI().getPath(),hb=fb.onSuccess||bb,ib=fb.onError||bb,jb=s.getURI({tpe:gb});fb=k.prepareCardMutationData(fb);var kb=new t(fb),lb=fb.hasPlatformContext;delete fb.onSuccess;delete fb.onError;j.creditCardSaving();new h().setAllowCrossOrigin(true).setURI(jb).setData(fb).setMethod('POST').setHandler(function(mb){var nb=mb.getPayload();if(!nb.errors){kb=t.set(kb,nb);j.addCreditCard(kb);if(nb.isPreset)j.transferAccepted();if(lb)j.checkoutCreditCardSelected(nb[i.CREDENTIAL_ID]);hb();}else{j.addCreditCardError(babelHelpers['extends']({requestID:kb.requestID},nb));ib(nb);}j.allowCreditCardChannelEvents();}).setErrorHandler(function(mb){j.addCreditCardError({requestID:kb.requestID,errors:{general:{message:k.getUncaughtErrorMessage(mb.getError())}}});j.allowCreditCardChannelEvents();db(mb,p.UI_ACTN_ADD_CARD_EXCEPTION);}).send();},getTransactions:function(fb){fb=fb||{};var gb={},hb=fb,ib=ya.getURIBuilder().getURI(),jb=new t(hb);if(hb.since)gb.since=hb.since;return new h().setData(gb).setURI(ib).setMethod('GET').setReadOnly(true).setHandler(function(kb){var lb=kb.getPayload();if(!lb.error){j.updateTransfers(lb);}else j.updateTransfersError(babelHelpers['extends']({requestID:jb.requestID},lb));}).setErrorHandler(function(kb){j.updateTransfersError({error:{message:k.getUncaughtErrorMessage(kb.getError())},requestID:jb.requestID});}).send();},getExtensiveTransferDetailsByID:function(fb){var gb=ha.getURIBuilder().setString('id',fb).getURI();new h().setURI(gb).setMethod('GET').setReadOnly(true).setHandler(function(hb){var ib=hb.getPayload();if(!ib.error)j.extensiveTransferDetailsLoaded(ib);}).send();},getNUXTransactions:function(){var fb=new Date(),gb=Math.round(fb.setDate(fb.getDate()-15)/1000),hb=ya.getURIBuilder().getURI();return new h().setData({since:gb}).setURI(hb).setMethod('GET').setReadOnly(true).setHandler(function(ib){var jb=ib.getPayload();if(!jb.error)j.updateNUXTransfers(jb);}).send();},updatePresetCreditCard:function(fb){var gb=ra.getURIBuilder().getURI();new h().setData(fb).setURI(gb).setMethod('POST').setHandler(function(hb){var ib=hb.getPayload();if(!ib.error){j.updatePresetCreditCard(babelHelpers['extends']({},ib,{requestID:fb.requestID}));j.transferAccepted();}else j.updatePresetCreditCardError(babelHelpers['extends']({},ib,{requestID:fb.requestID}));}).setErrorHandler(function(hb){j.updatePresetCreditCardError({error:{message:k.getUncaughtErrorMessage(hb.getError())},requestID:fb.requestID});db(hb,p.UI_ACTN_UPDATE_PRESET_CARD_EXCEPTION);}).send();},updateCreditCard:function(fb){j.ignoreCreditCardChannelEvents();var gb=ca.getURIBuilder().getURI().getPath(),hb=s.getURI({tpe:gb});fb=k.prepareCardMutationData(fb);var ib=new t(fb);new h().setAllowCrossOrigin(true).setURI(hb).setData(fb).setMethod('POST').setHandler(function(jb){var kb=jb.getPayload();if(!kb.errors){j.updateCreditCard(ib);}else j.updateCreditCardError(babelHelpers['extends']({},kb,{requestID:ib.requestID}));j.allowCreditCardChannelEvents();}).setErrorHandler(function(jb){j.updateCreditCardError({errors:{general:{message:k.getUncaughtErrorMessage(jb.getError())}},requestID:ib.requestID});j.allowCreditCardChannelEvents();db(jb,p.UI_ACTN_UPDATE_CARD_EXCEPTION);}).send();},deleteCreditCard:function(fb){var gb=ba.getURIBuilder().getURI();new h().setData(fb).setMethod('POST').setURI(gb).setHandler(function(hb){var ib=hb.getPayload();if(!ib.error){j.deleteCreditCard(babelHelpers['extends']({},ib,{requestID:fb.requestID}));}else j.deleteCreditCardError(babelHelpers['extends']({},ib,{requestID:fb.requestID}));}).setErrorHandler(function(hb){j.deleteCreditCardError({error:{message:k.getUncaughtErrorMessage(hb.getError())},requestID:fb.requestID});}).send();},getPasswordProtectionSetting:function(fb){var gb=ja.getURIBuilder().getURI(),hb=fb.success||bb,ib=fb.error||bb;new h().setURI(gb).setMethod('GET').setReadOnly(true).setHandler(function(jb){var kb=jb?jb.getPayload():[];if(kb.error){ib();}else hb(kb);}).setErrorHandler(function(jb){ib();}).send();},setPasswordProtectionSetting:function(fb){var gb=ka.getURIBuilder().getURI(),hb=fb.formData,ib=fb.success||bb,jb=fb.error||bb,kb={};kb[n.STATUS]=hb[n.STATUS];new h().setData(kb).setURI(gb).setMethod('POST').setHandler(function(lb){var mb=lb?lb.getPayload():{};if(mb.error){jb(mb.error);}else ib();}).setErrorHandler(function(lb){jb();}).send();},declineTransaction:function(fb){var gb=za.getURIBuilder().getURI(),hb=fb.formData,ib=fb.success||bb,jb=fb.error||bb,kb={};kb[r.TRANSFER_ID]=hb[r.TRANSFER_ID];new h().setData(kb).setURI(gb).setMethod('POST').setHandler(function(lb){var mb=lb?lb.getPayload():{},nb={};if(mb.error){jb(mb.error);}else{ib();nb[r.TRANSFER_ID]=kb[r.TRANSFER_ID];j.transferDeclined(nb);}}).setErrorHandler(function(lb){jb();db(lb,p.UI_ACTN_DECLINE_TRANSFER_EXCEPTION);}).send();},cancelTransaction:function(fb){var gb=wa.getURIBuilder().getURI(),hb=fb.formData,ib=fb.success||bb,jb=fb.error||bb,kb={};kb[r.TRANSFER_ID]=hb[r.TRANSFER_ID];new h().setData(kb).setURI(gb).setMethod('POST').setHandler(function(lb){var mb=lb?lb.getPayload():{};if(mb.error){jb(mb.error);}else ib();}).setErrorHandler(function(lb){jb();}).send();},verifyCreditCard:function(fb){var gb=ea.getURIBuilder().getURI().getPath(),hb=s.getURI({tpe:gb});new h().setAllowCrossOrigin(true).setURI(hb).setData(fb).setMethod('POST').setHandler(function(ib){var jb=ib.getPayload();if(!jb.error){j.verifyCreditCard(babelHelpers['extends']({},jb,{requestID:fb.requestID}));}else j.verifyCreditCardError(babelHelpers['extends']({},jb,{requestID:fb.requestID}));}).setErrorHandler(function(ib){j.verifyCreditCardError({error:{message:k.getUncaughtErrorMessage(ib.getError())},requestID:fb.requestID});db(ib,p.UI_ACTN_VERIFY_CARD_EXCEPTION);}).send();},validateBINNumber:function(fb){fb=fb||{};var gb=new t(fb),hb=aa.getURIBuilder().setString('bin_number',fb.binNumber).getURI();return new h().setURI(hb).setMethod('GET').setReadOnly(true).setHandler(function(ib){var jb=ib.getPayload();if(!jb.error){j.binNumberValidated(babelHelpers['extends']({},jb,{requestID:fb.requestID}));}else j.binNumberValidatedError(babelHelpers['extends']({},jb,{requestID:gb.requestID}));}).send();},getUserEligibility:function(fb){fb=fb||{};var gb=ab.getURIBuilder().setStringVector('user_ids',fb.userIDs).getURI();return new h().setURI(gb).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(hb){var ib=hb.getPayload();if(!ib.error)j.userEligibilityUpdated(ib);}).send();},getFriendsList:function(fb,gb){var hb=ia.getURIBuilder().setInt('limit',fb).setString('query',gb).getURI();return new h().setURI(hb).setMethod('GET').setReadOnly(true).setHandler(function(ib){var jb=ib.getPayload();if(!jb.error)j.friendsListUpdated({friends:jb,query:gb});}).send();},getBannerStates:function(){var fb=y.getURIBuilder().getURI();new h().setURI(fb).setMethod('GET').setReadOnly(true).setHandler(function(gb){var hb=gb.getPayload();if(!hb.error)j.bannerStatesUpdated(hb);}).send();},incrementBannerViews:function(fb){var gb=z.getURIBuilder().setString('banner_type',fb).getURI();new h().setMethod('POST').setURI(gb).send();},incrementBannerDismissals:function(fb){var gb;j.bannerDismissed(fb);gb=x.getURIBuilder().setString('banner_type',fb).getURI();new h().setMethod('POST').setURI(gb).send();},createMoneypennyTransfer:function(fb){var gb=u.getURIBuilder().getURI();new h().setMethod('POST').setURI(gb).setData({item_id:fb.item_id,credential_id:fb.credential_id,amount:fb.amount,external_request_id:fb.external_request_id}).setHandler(function(hb){var ib=hb.getPayload();if(!ib.error){j.moneypennyTransferCreated(babelHelpers['extends']({},ib,{requestID:fb.requestID}));this.getAllCreditCards();}else j.moneypennyTransferCreatedError(babelHelpers['extends']({},ib,{requestID:fb.requestID}));}.bind(this)).setErrorHandler(function(hb){j.moneypennyTransferCreatedError({error:{message:k.getUncaughtErrorMessage(hb.getError())},requestID:fb.requestID});db(hb,p.UI_ACTN_CREATE_M_TRANSFER_EXCEPTION);}).send();},createFinancialIncentivesTransfer:function(fb){var gb=va.getURIBuilder().getURI(),hb=fb.success||bb,ib=fb.error||bb,jb={};jb[i.CREDENTIAL_ID]=fb.credential_id;jb.external_request_id=k.genOfflineThreadingID();jb.campaign_name=o.SEVIPER;new h().setData(jb).setURI(gb).setMethod('POST').setHandler(function(kb){var lb=kb.getPayload();if(lb.error){ib(lb.error);}else hb();}).send();},getPlatformContextByOtherUserID:function(fb){fb=fb||{};var gb=sa.getURIBuilder().setString('other_user_id',fb.otherUserID).getURI();return new h().setURI(gb).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(hb){var ib=hb.getPayload();if(!ib.error&&!cb(ib))j.addPlatformContext(ib);}).send();},dismissPlatformContextBanner:function(fb){var gb;j.platformContextBannerDismissed(fb);gb=ta.getURIBuilder().setString('platform_context_id',fb).getURI();new h().setMethod('POST').setURI(gb).send();},markSoldPlatformContextProductItem:function(fb){var gb;j.platformContextProductItemSold(fb);gb=ua.getURIBuilder().setString('platform_context_id',fb).getURI();new h().setMethod('POST').setURI(gb).send();},getAddresses:function(){var fb=v.getURIBuilder().getURI();return new h().setURI(fb).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(gb){var hb=gb.getPayload();if(!hb.error)j.updateAddresses(hb);}).send();},addAddress:function(){var fb=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],gb=w.getURIBuilder().getURI(),hb,ib=fb.platformContext,jb=fb.onSuccess||bb,kb=fb.onError||bb;hb={label:fb.label,care_of:fb.care_of,city:fb.city,street1:fb.street1,street2:fb.street2,state:fb.state,zip:fb.zip};j.addressSaving();return new h().setData(hb).setURI(gb).setMethod('POST').setHandler(function(lb){var mb=lb.getPayload();if(!mb.errors){j.addAddress(babelHelpers['extends']({},mb,hb,{requestID:fb.requestID}));if(ib){j.checkoutAddressSelected(mb.id);this.setPlatformContextShippingAddress({platformContextID:ib.id,shippingAddressID:mb.id});}jb();}else{j.addAddressError(babelHelpers['extends']({},mb,{requestID:fb.requestID}));kb(mb);}}.bind(this)).setErrorHandler(function(lb){j.addAddressError({errors:{general:{message:k.getUncaughtErrorMessage(lb.getError())}},requestID:fb.requestID});db(lb,p.UI_ACTN_ADD_ADDRESS_EXCEPTION);}).send();},createMCCart:function(fb){var gb=pa.getURIBuilder().getURI(),hb,ib=fb.productItemID;fb=fb||{};hb={item_id:ib};j.checkoutCartInitiated();return new h().setData(hb).setURI(gb).setMethod('POST').setHandler(function(jb){var kb=jb.getPayload();if(!kb.error){j.addPlatformContext(babelHelpers['extends']({},kb));j.checkoutCartCreated({sellerID:fb.sellerID,productItemID:ib});}else j.addPlatformContextError(babelHelpers['extends']({itemID:ib},kb));}).setErrorHandler(function(jb){j.addPlatformContextError({itemID:ib,error:{message:k.getUncaughtErrorMessage(jb.getError())}});db(jb,p.UI_ACTN_CREATE_CART_EXCEPTION);}).send();},setPlatformContextShippingAddress:function(fb){var gb=qa.getURIBuilder().getURI(),hb,ib=fb.platformContextID,jb=fb.shippingAddressID;fb=fb||{};hb={platform_context_id:ib,shipping_address_id:jb};j.checkoutProcessing(true);return new h().setData(hb).setURI(gb).setMethod('POST').setHandler(function(kb){j.checkoutProcessing(false);var lb=kb.getPayload();if(!lb.error)j.addPlatformContext(babelHelpers['extends']({},lb));}).setErrorHandler(function(kb){db(kb,p.UI_ACTN_SET_CART_ADDRESS_EXCEPTION);}).send();},getCurrentUserProfileData:function(){var fb=ga.getURIBuilder().getURI();return new h().setURI(fb).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(gb){var hb=gb.getPayload();if(!hb.error){j.checkoutBuyerProfileUpdated(hb);}else j.checkoutBuyerProfileUpdated({});}).setErrorHandler(function(gb){j.checkoutBuyerProfileUpdated({});}).send();},createPaymentRequest:function(fb){var gb=ma.getURIBuilder().getURI(),hb=fb.formData,ib=hb.amount,jb=hb.requesteeID,kb=hb.memoText,lb=hb.group_thread_fbid,mb={amount:ib,memo_text:kb,offline_threading_id:k.genOfflineThreadingID(),requestee_id:jb,group_thread_fbid:lb};j.paymentRequestInitiated();return new h().setData(mb).setURI(gb).setMethod('POST').setHandler(function(nb){var ob=nb.getPayload();if(!ob.error){j.paymentRequestCreated(babelHelpers['extends']({},ob,{amount:ib,memoText:kb,requesteeID:jb}));fb.success(ob);}else{j.paymentRequestCreatedError(ob);fb.error(ob);}j.paymentRequestInitiatedComplete();}).setErrorHandler(function(nb){fb.error({error:{message:k.getUncaughtErrorMessage(nb.getError())}});j.paymentRequestInitiatedComplete();db(nb,p.UI_ACTN_CREATE_REQUEST_EXCEPTION);}).send();},declinePaymentRequest:function(fb){var gb=na.getURIBuilder().getURI(),hb=fb.paymentRequestID,ib=fb.success||bb,jb=fb.error||bb,kb={payment_request_id:hb};j.paymentRequestDeclineInitiated();return new h().setData(kb).setURI(gb).setMethod('POST').setHandler(function(lb){var mb=lb.getPayload();if(!mb.error){j.paymentRequestDeclined(hb);j.hideDialog();ib(mb);}else{j.paymentRequestDeclineError(mb);jb(mb);}}).setErrorHandler(function(lb){j.paymentRequestDeclineError({error:{message:k.getUncaughtErrorMessage(lb.getError())}});jb();db(lb,p.UI_ACTN_DECLINE_REQUEST_EXCEPTION);}).send();},cancelPaymentRequest:function(fb){var gb=la.getURIBuilder().getURI(),hb=fb.paymentRequestID,ib=fb.success||bb,jb=fb.error||bb,kb={payment_request_id:hb};j.paymentRequestCancelInitiated();return new h().setData(kb).setURI(gb).setMethod('POST').setHandler(function(lb){var mb=lb.getPayload();if(!mb.error){j.paymentRequestCanceled(hb);j.hideDialog();ib(mb);}else{j.paymentRequestCancelError(mb);jb(mb);}}).setErrorHandler(function(lb){j.paymentRequestCancelError({error:{message:k.getUncaughtErrorMessage(lb.getError())}});jb();db(lb,p.UI_ACTN_CANCEL_REQUEST_EXCEPTION);}).send();},getPendingPaymentRequests:function(){var fb=oa.getURIBuilder().getURI();new h().setURI(fb).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(gb){var hb=gb.getPayload(),ib=!hb.error?hb:[];j.paymentRequestsFetched(ib);}).send();}};f.exports=eb;},null);
__d('P2PNUXRendererUtils',['CurrentUser','ImmutableObject','MercuryAttachmentType','P2PTransferParam','P2PTransferStatus','StoryAttachmentStyle'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n={getTransferFromMessage:function(o){var p,q;if(!o||!o.attachments||!o.attachments.length)return null;q=o.attachments[0];if(this.isShareAttachment(q))p=q.share.target;if(p)p=new i(p);return p;},isSuccessfulReceivedTransfer:function(o){return (o&&o.receiver&&o.receiver.id===h.getID()&&(o.status===l.COMPLETED||o.status===l.PENDING_RECIPIENT_NUX));},isShareAttachment:function(o){return !!(typeof o!=='string'&&o.attach_type==j.SHARE&&o.share&&o.share.style_list&&o.share.style_list.indexOf(m.ORION)>=0);},doesNUXNeedCreditCards:function(o){var p=h.getID()===o.sender.id;return (!p&&o[k.STATUS]===l.PENDING_RECIPIENT_NUX);},isRecipientActionableStatus:function(o){var p=o[k.STATUS],q=h.getID()===o.sender.id;return (!q&&(p===l.PENDING_RECIPIENT_NUX||p===l.PENDING_RECIPIENT_VERIFICATION||p===l.PENDING_PUSH_FAIL));}};f.exports=n;},null);
__d('P2PAmountUtils',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=10000,i={isAmountOverLegalLimit:function(j){return parseFloat(this.sanitizeAmount(j))>=h;},isAmountZero:function(j){return parseFloat(this.sanitizeAmount(j))===0;},isValidSendAmount:function(j){return !this.isAmountOverLegalLimit(j)&&!this.isAmountZero(j);},sanitizeAmount:function(j){return j.replace(/[^0-9\.]+/g,'');}};f.exports=i;},null);
__d('P2PButton.react',['CurrentEnvironment','MessengerDialogButton.react','React','XUIButton.react'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.createClass({displayName:'P2PButton',render:function(){var m=h.messengerdotcom,n=m?i:k,o=this.props.type;if(!o)o=this.props.use==='confirm'?'primary':'secondary';var p=m?'default':this.props.use,q=babelHelpers['extends']({},this.props,{type:o,use:p});return (j.createElement(n,q,this.props.children));}});f.exports=l;},null);
__d('P2PDialog.react',['CurrentEnvironment','LayerFadeOnHide','MessengerDialog.react','React','XUIDialog.react','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes,o=k.createClass({displayName:'P2PDialog',propTypes:{onToggle:n.func,shown:n.bool,width:n.number},getDefaultProps:function(){return {onToggle:m,repositionOnUpdate:false,shown:true,width:400};},componentDidUpdate:function(){if(this.props.repositionOnUpdate)setTimeout(function(){if(this.isMounted()&&this.refs.dialog&&this.refs.dialog.layer)this.refs.dialog.layer.updatePosition();}.bind(this),0);},render:function(){var p=h.messengerdotcom,q=p?j:l;return (k.createElement(q,babelHelpers['extends']({behaviors:{LayerFadeOnHide:i}},this.props,{ref:'dialog'}),this.props.children));}});f.exports=o;},null);
__d('P2PDialogBody.react',['CurrentEnvironment','MessengerDialogBody.react','React','XUIDialogBody.react'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.createClass({displayName:'P2PDialogBody',render:function(){var m=h.messengerdotcom,n=m?i:k;return (j.createElement(n,this.props,this.props.children));}});f.exports=l;},null);
__d('P2PDialogFooter.react',['CurrentEnvironment','MessengerDialogFooter.react','React','XUIDialogFooter.react','joinClasses','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=j.createClass({displayName:'P2PDialogFooter',render:function(){var o=h.messengerdotcom,p=o?i:k,q,r=this.props.children;if(o){q=j.Children.count(this.props.children);r=j.Children.map(this.props.children,function(s,t){if(!s)return null;return j.cloneElement(s,{className:l(s.props.className,"_4ec0"),type:t===0&&q===2?'secondary':'primary'});});}return (j.createElement(p,this.props,r));}});f.exports=n;},null);
__d('P2PDialogTitle.react',['CurrentEnvironment','MessengerDialogHeader.react','React','XUIDialogTitle.react'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.createClass({displayName:'P2PDialogTitle',render:function(){var m=h.messengerdotcom,n=m?i:k;return (j.createElement(n,this.props,this.props.children));}});f.exports=l;},null);
__d('P2PListRow.react',['React','cx','invariant'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'P2PListRow',propTypes:{offset:k.oneOf(['large','small']),offsetBottom:k.number,offsetRight:k.number},getDefaultProps:function(){return {offset:'large'};},render:function(){var m=this.props;!(h.Children.count(m.children)===2)?j(0):undefined;var n=m.offset,o=m.offsetRight!==undefined&&m.offsetRight+'px',p=m.offsetBottom!==undefined&&m.offsetBottom+'px';return (h.createElement('div',{className:"_3q6c"+(n==='large'?' '+"_3q6d":'')+(n==='small'?' '+"_3q6o":'')},h.createElement('div',{className:"_3q6p",style:{paddingRight:o,paddingBottom:p}},m.children[0]),h.createElement('div',{className:"_3q6q",style:{paddingBottom:p}},m.children[1])));}});f.exports=l;},null);
__d('P2PText.react',['CurrentEnvironment','MessengerText.react','React','XUIGrayText.react'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.PropTypes,m=j.createClass({displayName:'P2PText',propTypes:{type:l.oneOf(['primary','secondary']).isRequired},render:function(){var n=h.messengerdotcom,o=n?i:k,p=this.props.type,q=this.props;if(!n){q=babelHelpers['extends']({},this.props,{display:this.props.display||'block',shade:p==='primary'?'dark':'light',size:this.props.size||'small'});}else{q=babelHelpers['extends']({},this.props,{size:'small'});delete q.size;}return (j.createElement(o,q,this.props.children));}});f.exports=m;},null);
__d('P2PFriendsListStore',['P2PActionConstants','EventEmitter','P2PAPI','P2PDispatcher'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m;if(c.__markCompiled)c.__markCompiled();var n=[],o='',p=25;l=babelHelpers.inherits(q,i);m=l&&l.prototype;function q(){m.constructor.call(this);k.register(this.onEventDispatched.bind(this));}q.prototype.onEventDispatched=function(r){var s=r.data,t=r.type;switch(t){case h.FRIENDS_LIST_UPDATED:this.handleFriendsListUpdated(s);this.emit('change');break;}};q.prototype.handleFriendsListUpdated=function(r){if(!o||o===r.query)n=r.friends;};q.prototype.searchFriends=function(r){o=r;this.fetchFriends(r);};q.prototype.fetchFriends=function(r){j.getFriendsList(p,r);};q.prototype.getFriends=function(){return n;};f.exports=new q();},null);
__d('P2PFriendPicker.react',['debounce','Image.react','Layout.react','MercuryIDs','P2PActions','P2PFriendsListStore','P2PLoadingMask.react','P2PLogger','P2PPaymentLoggerEvent','P2PText.react','React','ScrollableArea.react','XUIButton.react','XUITextInput.react','cx','fbt','glyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){'use strict';if(c.__markCompiled)c.__markCompiled();var y=j.FillColumn,z=j.Column,aa=r.PropTypes,ba=r.createClass({displayName:'P2PFriendPicker',propTypes:{amount:aa.string,buttonLabel:aa.node,eventFlow:aa.string.isRequired,height:aa.number,onFriendSelected:aa.func,referrer:aa.string,sendMoneyNUXDismissed:aa.bool,subTitle:aa.node},getDefaultProps:function(){return {amount:'',buttonLabel:w._("Pay Friend"),height:350,title:w._("Select Friend"),subTitle:w._("These are your friends who are able to receive money.")};},getInitialState:function(){return {friends:m.getFriends(),showLoader:true};},log:function(ca,da){o.log(ca,babelHelpers['extends']({www_event_flow:this.props.eventFlow},da));},loggedSearch:null,friendPickerStoreSub:null,componentDidMount:function(){this.friendPickerStoreSub=m.addListener('change',this.updateFriendsList);m.searchFriends();this.log(p.UI_ACTN_FRIEND_PICKER_SHOWN);},componentWillUnmount:function(){if(this.friendPickerStoreSub){this.friendPickerStoreSub.remove();this.friendPickerStoreSub=null;}},updateFriendsList:function(){this.setState({friends:m.getFriends(),showLoader:false});},onFriendSelect:function(ca){this.log(p.UI_ACTN_FRIEND_PICKER_SELECT,{object_id:ca.id});l.chatSendViewOpened({amount:this.props.amount,referrer:this.props.referrer,sendMoneyNUXDismissed:this.props.sendMoneyNUXDismissed,threadID:k.getThreadIDFromUserID(ca.id)});this.props.onFriendSelected&&this.props.onFriendSelected();},getQuery:function(){return (this.refs.input_ref&&this.refs.input_ref.refs.textInput.getValue());},onSearchInputChange:function(){if(!this.loggedSearch){this.log(p.UI_ACTN_FRIEND_PICKER_SEARCH);this.loggedSearch=true;}var ca=this.getQuery();if(!ca)this.setState({showLoader:true});m.searchFriends(ca);},renderTagLineRow:function(){if(this.state.showLoader)return null;return (r.createElement('li',{className:"_1px5"},r.createElement('div',{className:"_1px6"},this.props.subTitle)));},renderfriendRow:function(ca){var da;if(this.props.buttonLabel)da=r.createElement(t,{label:this.props.buttonLabel,size:'large'});return (r.createElement('li',{className:"_1px7",key:ca.id,onClick:this.onFriendSelect.bind(this,ca)},r.createElement(j,null,r.createElement(y,null,r.createElement('div',{className:"_1px8"},r.createElement(i,{className:"_1px9",height:50,src:ca.image_src,width:50})),r.createElement('div',{className:"_1pxa"},r.createElement(q,{className:"_1pxb",type:'primary'},ca.full_name))),r.createElement(z,{className:"_1pxc"},da))));},renderFriendList:function(){var ca=this.getQuery();if(!this.state.showLoader&&this.state.friends.length===0)if(ca&&ca.length){return (r.createElement('div',{className:"_1pxd"},w._("No results.")));}else return (r.createElement('div',{className:"_1pxd"},w._("You do not have any friends who are able to receive money.")));return (r.createElement('div',{className:"_1pxe"},r.createElement(n,{visible:this.state.showLoader}),r.createElement(s,{height:this.props.height},r.createElement('ul',null,this.state.friends.map(this.renderfriendRow),this.renderTagLineRow()))));},render:function(){return (r.createElement('div',null,r.createElement('div',{className:"_1pxf"},r.createElement('div',{className:"_1pxg"},r.createElement(u,{className:"_1pxn",height:'tall',onChange:h(this.onSearchInputChange,150),placeholder:w._("Search friends"),ref:'input_ref'}),r.createElement(i,{className:"_1pxo",src:x('search')}))),this.renderFriendList()));}});f.exports=ba;},null);
__d('P2PEncryptedText.react',['Image.react','P2PText.react','React','cx','fbt','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=j.PropTypes,o=j.createClass({displayName:'P2PEncryptedText',propTypes:{showPasswordProtected:n.bool},getDefaultProps:function(){return {showPasswordProtected:false};},getEncryptedMessage:function(){if(this.props.showPasswordProtected)return l._("Encrypted and password protected.");return l._("Encrypted and private.");},render:function(){return (j.createElement(i,{type:'secondary'},j.createElement('div',{className:"__8t"},j.createElement(h,{src:m({name:'lock',shade:'light'})})),j.createElement('span',{className:"_2pir"},this.getEncryptedMessage())));}});f.exports=o;},null);
__d('P2PNUXNextButton.react',['P2PButton.react','React','fbt'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=i.PropTypes,l=i.createClass({displayName:'P2PNUXNextButton',propTypes:{onNextClick:k.func.isRequired},render:function(){return (i.createElement(h,{label:j._("Next"),onClick:this.props.onNextClick,use:'confirm'}));}});f.exports=l;},null);
__d('P2PSendMoneyNUXListItems.react',['Image.react','P2PListRow.react','P2PText.react','React','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes,o=k.createClass({displayName:'P2PSendMoneyNUXListItems',propTypes:{offset:n.oneOf(['small','medium'])},getDefaultProps:function(){return {size:'small'};},renderRow:function(p,q){return (k.createElement(i,{offset:this.props.size},k.createElement(h,p),k.createElement(j,{type:'primary'},q)));},render:function(){var p=this.props.size;return (k.createElement('div',null,this.renderRow(p==='small'?{height:18,src:m('/images/p2p/nux/nux_checkmark_small.png'),width:18}:{height:36,src:m('/images/p2p/nux/nux_checkmark_medium.png'),width:36},l._("It's FREE to send and receive money.")),this.renderRow(p==='small'?{height:27,src:m('/images/p2p/nux/nux_lock_small.png'),width:18}:{height:54,src:m('/images/p2p/nux/nux_lock_medium.png'),width:36},l._("Industry-leading security \u2014 password protection, anti-fraud team and more.")),this.renderRow(p==='small'?{height:13,src:m('/images/p2p/nux/nux_debitcard_small.png'),width:18}:{height:26,src:m('/images/p2p/nux/nux_debitcard_medium.png'),width:36},l._("Send money from your debit card to theirs."))));}});f.exports=o;},null);
__d('P2PSendMoneyNUXTitleText.react',['React','fbt'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(){return (h.createElement('div',null,i._("Send Money to Anyone")));}f.exports=j;},null);
__d('P2PSendMoneyNUXDialog.react',['CurrentEnvironment','P2PDialog.react','P2PDialogBody.react','P2PDialogFooter.react','P2PDialogTitle.react','P2PEncryptedText.react','P2PLogger','P2PNUXNextButton.react','P2PPaymentLoggerEvent','P2PSendMoneyNUXListItems.react','P2PSendMoneyNUXTitleText.react','React','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=s.PropTypes,v=s.createClass({displayName:'P2PSendMoneyNUXDialog',propTypes:{eventFlow:u.string,onToggle:u.func.isRequired,onNextClick:u.func.isRequired,width:u.number},getDefaultProps:function(){return {width:h.messengerdotcom?400:350};},componentDidMount:function(){this._log(p.UI_ACTN_SEND_MONEY_NUX_SHOWN);},render:function(){return (s.createElement(i,{onToggle:this.props.onToggle,width:this.props.width},s.createElement(l,null,s.createElement(r,null)),s.createElement(j,{className:"_1ou5"},s.createElement(q,{size:'large'})),s.createElement(k,{leftContent:s.createElement('div',{className:"_1ou6"},s.createElement(m,null))},s.createElement(o,{onNextClick:this._handleNextClick}))));},_handleNextClick:function(){this._log(p.UI_ACTN_SEND_MONEY_NUX_NEXT_CLICK);this.props.onNextClick();},_log:function(w,x){n.log(w,babelHelpers['extends']({www_event_flow:this.props.eventFlow},this.props.loggingData,x));}});f.exports=v;},null);
__d('P2PCreditCard',['CreditCardFormParam','CreditCardTypeEnum','PaymentMethodUtils','P2PPaymentMethodCategory','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n={visa:{image:m('/images/payments/icons/visa.png'),imageLarge:m('/images/payments/icons/visa-lg.png'),name:'Visa'},mc:{image:m('/images/payments/icons/mc.png'),imageLarge:m('/images/payments/icons/mc-lg.png'),name:'MasterCard'},disc:{image:m('/images/payments/icons/disc.png'),imageLarge:m('/images/payments/icons/disc-lg.png'),name:'Discover'},jcb:{image:m('/images/payments/icons/jcb.png'),imageLarge:m('/images/payments/icons/jcb-lg.png'),name:'JCB'},amex:{image:m('/images/payments/icons/amex.png'),imageLarge:m('/images/payments/icons/amex-lg.png'),name:'American Express'},unknown:{image:m('/images/brands/credit_card/credit_32.png'),imageLarge:m('/images/brands/credit_card/credit_32.png'),name:l._("Unknown Card Type")}};function o(p){this.setCredentialId(p[h.CREDENTIAL_ID]);this.setCardType(p[h.CARD_TYPE]);this.setCreditCardNumber(p[h.CARD_NUMBER]);this.setSelected(p.selected);this.setZipCode(p[h.ZIP]);this.setCSC(p[h.CSC]);this.setExp(p[h.CARD_EXPIRATION]);this.setIsPreset(p.isPreset);this.setIsVerified(p.isVerified);this.setIsMobileVerified(p.isMobileVerified);this.setIsPersonalTransferEligible(p.isPersonalTransferEligible);this.setCategory(p.category);}o.prototype.getCreditCardNumber=function(){return this[h.CARD_NUMBER];};o.prototype.setCreditCardNumber=function(p){p=p.replace(/ /g,'');this.setCardProviderProps(this[h.CARD_TYPE],p);p=p.substr(p.length-4);this[h.CARD_NUMBER]=p;};o.prototype.setCardProviderProps=function(p,q){var r=this.$P2PCreditCard1(p,q);if(n[r]){this.setImage(n[r].image);this.setImageLarge(n[r].imageLarge);this.setName(n[r].name);}};o.prototype.getExp=function(){return this[h.CARD_EXPIRATION];};o.prototype.getExpFormatted=function(){var p=this[h.CARD_EXPIRATION];return p?p[h.MONTH]+'/'+p[h.YEAR]:'';};o.prototype.getExpFormattedShort=function(){var p=this[h.CARD_EXPIRATION],q='';if(p&&p[h.MONTH]&&p[h.YEAR]){q=p[h.MONTH]+'/';if(p[h.YEAR].length===4){q+=p[h.YEAR].substr(2);}else q+=p[h.YEAR];}return q;};o.prototype.setExp=function(p){if(!p)return;var q,r,s={};s[h.MONTH]=p[h.MONTH];s[h.YEAR]=p[h.YEAR];if(s[h.MONTH]&&s[h.MONTH].length===1)s[h.MONTH]='0'+s[h.MONTH];if(s[h.YEAR]&&s[h.YEAR].length===2){q=new Date().getFullYear()+'';r=q.substr(0,2);s[h.YEAR]=r+s[h.YEAR];}this[h.CARD_EXPIRATION]=s;};o.prototype.getCSC=function(){return this[h.CSC];};o.prototype.setCSC=function(p){this[h.CSC]=p;};o.prototype.getZipCode=function(){return this[h.ZIP];};o.prototype.setZipCode=function(p){this[h.ZIP]=p;};o.prototype.getSelected=function(){return this.$P2PCreditCard2;};o.prototype.setSelected=function(p){this.$P2PCreditCard2=p;};o.prototype.getCardType=function(){return this[h.CARD_TYPE];};o.prototype.setCardType=function(p){this[h.CARD_TYPE]=p;this.setCardProviderProps(p,this[h.CARD_NUMBER]);};o.prototype.getCredentialId=function(){return this[h.CREDENTIAL_ID];};o.prototype.setCredentialId=function(p){this[h.CREDENTIAL_ID]=p;};o.prototype.$P2PCreditCard1=function(p,q){var r='default',s,t;if(p){s=Object.keys(i).filter(function(u){return i[u]===p;})[0];r=this.$P2PCreditCard3(s);}else if(q){t=j.getCardType(q);if(t)r=t.name;}return r;};o.prototype.getImage=function(){return this.$P2PCreditCard4||n.unknown.image;};o.prototype.setImage=function(p){this.$P2PCreditCard4=p;};o.prototype.getImageLarge=function(){return this.$P2PCreditCard5||n.unknown.imageLarge;};o.prototype.setImageLarge=function(p){this.$P2PCreditCard5=p;};o.prototype.getName=function(){return this.$P2PCreditCard6||n.unknown.name;};o.prototype.setName=function(p){this.$P2PCreditCard6=p;};o.prototype.getIsPreset=function(){return this.$P2PCreditCard7;};o.prototype.setIsPreset=function(p){this.$P2PCreditCard7=p||false;};o.prototype.$P2PCreditCard3=function(p){switch(p){case 'VISA':p='visa';break;case 'AMERICANEXPRESS':p='amex';break;case 'MASTERCARD':p='mc';break;case 'DISCOVER':p='disc';break;case 'JCB':p='jcb';break;default:p='unknown';break;}return p;};o.prototype.getCreditCardNumberFormatted=function(){return '*'+this[h.CARD_NUMBER];};o.prototype.getDetailsFormatted=function(){return (this.getName()+' '+this.getCreditCardNumberFormatted());};o.prototype.getCreditCardNumberMask=function(){return '**** **** **** '+this[h.CARD_NUMBER];};o.prototype.getMaxCSCLength=function(){var p=this.$P2PCreditCard1(this[h.CARD_TYPE],this[h.CARD_NUMBER]);return p==='amex'?4:3;};o.prototype.getIsVerified=function(){return this.$P2PCreditCard8||false;};o.prototype.setIsVerified=function(p){this.$P2PCreditCard8=p;};o.prototype.getIsMobileVerified=function(){return this.$P2PCreditCard9||false;};o.prototype.setIsMobileVerified=function(p){this.$P2PCreditCard9=p;};o.prototype.getIsPersonalTransferEligible=function(){return !!this.$P2PCreditCard10;};o.prototype.setIsPersonalTransferEligible=function(p){this.$P2PCreditCard10=p;};o.prototype.getCategory=function(){return this.$P2PCreditCard11;};o.prototype.setCategory=function(p){this.$P2PCreditCard11=p;};o.prototype.getCategoryName=function(){switch(this.$P2PCreditCard11){case k.DEBIT_CARD:return l._("Debit");case k.CREDIT_CARD:return l._("Credit");case k.PREPAID_CARD:return l._("Prepaid");default:return null;}};o.prototype.isExpired=function(){var p=this.getExp();if(!p)return false;var q=p.month,r=p.year,s=new Date(),t=s.getFullYear()+'',u=s.getMonth()+1+'';u=u.length===1?'0'+u:u;return r<t||t===r&&q<u;};f.exports=o;},null);
__d('P2PTransferStore',['Arbiter','P2PActionConstants','ChannelConstants','CurrentUser','CreditCardFormParam','EventEmitter','ImmutableObject','P2PActions','P2PAPI','P2PChannelType','P2PCreditCard','P2PDispatcher','P2PGKValues','P2PNUXRendererUtils','P2PTransferParam','P2PTransferStatus','Set','MercuryThreadInformer'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){'use strict';var y,z;if(c.__markCompiled)c.__markCompiled();var aa=c('MercuryThreadInformer').get(),ba=false,ca,da=[],ea,fa={},ga=false,ha=false,ia=new x(),ja=false;function ka(na,oa){if(oa)fa[oa]=new n(na);}function la(na,oa){if(oa)fa[oa]={error:na};}y=babelHelpers.inherits(ma,m);z=y&&y.prototype;function ma(){z.constructor.call(this);h.subscribe(j.getArbiterType(q.TRANSFER_STATUS_CHANGED),this.handleChannelTransferStatusChanged.bind(this));aa.subscribe('messages-received',this.handleMessageReceived.bind(this));s.register(this.onEventDispatched.bind(this));}ma.prototype.onEventDispatched=function(na){var oa=na.data,pa=na.type;switch(pa){case i.TRANSFERS_UPDATED:this.handleTransfersUpdated(oa);this.emit('change');break;case i.TRANSFERS_UPDATED_ERROR:this.handleTransfersUpdatedError(oa);this.emit('change');break;case i.NUX_TRANSFERS_UPDATED:this.handleNUXTransfersUpdated(oa);this.emit('change');break;case i.TRANSFER_ADDED:this.handleTransferAdded(oa);this.emit('change');break;case i.TRANSFER_UPDATED:this.handleTransferUpdated(oa);this.emit('change');break;case i.TRANSFER_ACCEPTED:this.handleTransferAccepted();this.emit('change');break;case i.TRANSFER_DECLINED:this.handleTransferDeclined(oa);this.emit('change');break;case i.EXTENSIVE_TRANSFER_DETAILS_UPDATED:this.handleTransferWithExtensiveDetails(oa);this.emit('change');break;}};ma.prototype.getAsyncRequestState=function(){return fa;};ma.prototype.handleTransfersUpdated=function(na){ea=null;ga=true;var oa=[],pa=na.map(function(ra){var sa={},ta=this.getTransferByID(ra[v.TRANSFER_ID]),ua={};if(ra.creditCard){sa[l.CREDENTIAL_ID]=ra.creditCard[l.CREDENTIAL_ID];sa[l.CARD_NUMBER]=ra.creditCard[l.CARD_NUMBER];sa[l.CARD_TYPE]=ra.creditCard[l.CARD_TYPE];ra.creditCard=new r(sa);}if(ta)for(var va in ta)ua[va]=ra[va]!==null?ra[va]:ta[va];oa.push(ra[v.TRANSFER_ID]);return new n(ra,ua);}.bind(this)),qa=da.filter(function(ra){return oa.indexOf(ra[v.TRANSFER_ID])===-1;});da=pa.concat(qa);da=da.sort(function(ra,sa){return sa.creationTime-ra.creationTime;});};ma.prototype.handleTransfersUpdatedError=function(na){ea=na.error;la(na.requestID,na.error);};ma.prototype.handleNUXTransfersUpdated=function(na){if(!ga)this.handleTransfersUpdated(na);};ma.prototype.handleTransferAdded=function(na){var oa=null;ka(na,na.requestID);if(na&&na.sender&&na.sender.id===k.getID())ja=true;oa=da.filter(function(pa){return (pa[v.TRANSFER_ID]===na[v.TRANSFER_ID]);})[0];if(oa)return;da.push(new n(na));da=da.sort(function(pa,qa){return qa.creationTime-pa.creationTime;});};ma.prototype.handleTransferAddedError=function(na){la(na.requestID,na.errors);};ma.prototype.handleChannelTransferStatusChanged=function(na,oa){oa=oa.obj;o.transferUpdated(oa);};ma.prototype.handleMessageReceived=function(na,oa){for(var pa in oa)if(oa.hasOwnProperty(pa)){var qa=oa[pa];for(var ra=0;ra<qa.length;ra++)if(qa[ra].attachments&&qa[ra].attachments.length){var sa=u.getTransferFromMessage(qa[ra]);if(sa){if(!this.hasReceived()&&sa.receiver.id===k.getID())p.getBannerStates();o.transferAdded(sa);return;}}}};ma.prototype.handleTransferUpdated=function(na){for(var oa=0,pa=da.length;oa<pa;oa++)if(da[oa][v.TRANSFER_ID]===na[v.TRANSFER_ID])da[oa]=n.set(da[oa],na);};ma.prototype.handleTransferAccepted=function(){var na;for(var oa=0,pa=da.length;oa<pa;oa++)if(da[oa][v.STATUS]===w.PENDING_RECIPIENT_NUX){na={};na[v.STATUS]=w.COMPLETED;da[oa]=n.set(da[oa],na);}ha=true;};ma.prototype.handleTransferDeclined=function(na){var oa;for(var pa=0,qa=da.length;pa<qa;pa++)if(da[pa][v.TRANSFER_ID]===na[v.TRANSFER_ID]&&da[pa][v.STATUS]===w.PENDING_RECIPIENT_NUX){oa={};oa[v.STATUS]=w.CANCELED_DECLINED;da[pa]=n.set(da[pa],oa);break;}};ma.prototype.handleTransferUpdatedError=function(na){la(na.requestID,na.errors);};ma.prototype.getTransferByID=function(na){return da.filter(function(oa){return na===oa[v.TRANSFER_ID];})[0];};ma.prototype.getAll=function(na){if(!ba){ba=true;p.getTransactions(na);}return da;};ma.prototype.getNUXTransfer=function(){var na=da.filter(function(oa){return u.isRecipientActionableStatus(oa);})[0];if(!na&&!ca&&!ba){ca=true;p.getNUXTransactions();}return na;};ma.prototype.hasTransfers=function(){return da.length>0;};ma.prototype.hasAccepted=function(){return ha;};ma.prototype.hasReceivedFromSender=function(na){for(var oa=0,pa=da.length;oa<pa;oa++)if(da[oa].sender.id===na)return true;return false;};ma.prototype.hasReceived=function(){for(var na=0,oa=da.length;na<oa;na++)if(da[na].receiver.id===k.getID())return true;return false;};ma.prototype.getTransferFetchError=function(){return ea;};ma.prototype.getTransferWithExtensiveDetailsByID=function(na){if(!ia.has(na)){ia.add(na);p.getExtensiveTransferDetailsByID(na);}};ma.prototype.handleTransferWithExtensiveDetails=function(na){if(this.getTransferByID(na.transfer_id)){this.handleTransferUpdated(na);}else this.handleTransferAdded(na);};ma.prototype.getAllLocal=function(){return da;};ma.prototype.hasSentDuringSession=function(){return ja;};ma.prototype.shouldShowSenderNUX=function(){return (!t.P2PUserAddedCredentialBefore&&!this.hasSentDuringSession());};f.exports=new ma();},null);
__d('P2PFriendPickerDialog.react',['P2PActions','P2PDialog.react','P2PDialogBody.react','P2PDialogTitle.react','P2PFriendPicker.react','P2PSendMoneyNUXDialog.react','P2PTransferStore','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=o.PropTypes,s=o.createClass({displayName:'P2PFriendPickerDialog',propTypes:{amount:r.string,buttonLabel:r.node,eventFlow:r.string.isRequired,onClose:r.func.isRequired,referrer:r.string,subTitle:r.node,title:r.node},getDefaultProps:function(){return {amount:'',title:q._("Select Friend"),subTitle:q._("These are your friends who are able to receive money.")};},getInitialState:function(){return {sendMoneyNUXDismissed:false};},handleToggle:function(t){if(!t)this.props.onClose();},handleNUXNextClick:function(){this.setState({sendMoneyNUXDismissed:true});},render:function(){var t=445;if(!this.state.sendMoneyNUXDismissed&&n.shouldShowSenderNUX())return (o.createElement(m,{eventFlow:this.props.eventFlow,onToggle:this.handleToggle,onNextClick:this.handleNUXNextClick,width:t}));return (o.createElement(i,{onToggle:this.handleToggle,width:t},o.createElement(k,null,o.createElement('div',{className:"_4ia-"},this.props.title)),o.createElement(j,{className:"_4ib0"},o.createElement(l,{amount:this.props.amount,buttonLabel:this.props.buttonLabel,eventFlow:this.props.eventFlow,onFriendSelected:this.props.onClose,referrer:this.props.referrer,sendMoneyNUXDismissed:this.state.sendMoneyNUXDismissed,subTitle:this.props.subTitle}))));}});f.exports={module:s,render:function(t){h.showDialog(s,babelHelpers['extends']({title:q._("Send Money to Friends")},t,{onClose:h.hideDialog}));}};},null);
__d('P2PSendMoneyHelper',['MercuryIDs','P2PActions','P2PLogger','P2PPaymentLoggerEvent','P2PPaymentLoggerEventFlow','fbt','P2PFriendPickerDialog.react'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=c('P2PFriendPickerDialog.react').module,o={bindProfileSendMoneyAction:function(p,q){p.subscribe('itemclick',function(r,s){if(s.item.getValue()==='send_money')i.chatSendViewOpened({referrer:'profile_action',threadID:h.getThreadIDFromUserID(q)});});},initPaymentsBluebarMenuItems:function(p){p.subscribe('itemclick',function(q,r){var s=r.item.getValue();if(s==='send_money'){i.showDialog(n,{eventFlow:l.UI_FLOW_SEND_MONEY_BLUEBAR,onClose:i.hideDialog,referrer:'bluebar',title:m._("Send Money to Friends")});}else if(s==='payments_history')j.log(k.UI_ACTN_PAYMENTS_HISTORY_BLUEBAR_CLICK,{www_event_flow:l.UI_FLOW_PAYMENTS_MENU_BLUEBAR});});}};f.exports=o;},null);