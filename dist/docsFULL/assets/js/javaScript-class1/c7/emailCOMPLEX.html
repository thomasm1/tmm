<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>MyMail Web Portal</title>
	
    <style type="text/css">
        body
        {
            margin-left: 0px;
            margin-top: 0px;
            margin-right: 0;
            margin-bottom: 0;
        }
        td
        {
            font-family: Tahoma;
            font-size: 11px;
            color: #5C5C5C;
        }
        a:hover
        {
            text-decoration: none;
        }
        .ct
        {
            text-decoration: none;
            color: #5C5C5C;
        }
        .ct:hover
        {
            text-decoration: underline;
        }
        .menu
        {
            color: #ffffff;
            font-weight: bold;
            text-decoration: none;
        }
        .menu:hover
        {
            text-decoration: underline;
        }
        .sp1
        {
            color: #BC0016;
            text-decoration: underline;
        }
        .sp1:hover
        {
            text-decoration: none;
        }
    </style>
		<script type="text/javascript">
function validateSubmission(){
var retValue=true;
if (document.forms[0].subject.value.length > 40) {
	window.alert("The subject must be 40 characters or less!");
	return false;
}
else if (document.forms[0].sender_email.value == ""
	|| document.forms[0].recipient_email.value == ""
	|| document.forms[0].subject.value == "") {
	window.alert("You did not fill in one of the following required fields: sender e-mail, recipient e-mail, or subject.");
	return false;
}
if (retValue == false)
	return retValue;
retValue = validateEmail(document.forms[0].sender_email);
	if(retValue==false)
	return retValue;
// *****this functionality is now being handled by the addRecipients() function
//  retValue = validateEmail(document.forms[0].recipient_email);
	// if(retValue==false)
	// return retValue;
// *****after all, let us allow someone to send an email to themselves..
// retValue = compareAddresses(
	// document.forms[0].sender_email,
	// document.forms[0].recipient_email);
// return retValue;
}

function validateEmail(formObject){
	var email = formObject.value;
	//  //   email check #1  [old non regexpression version of @ & . check: 
	//  //    				// if(email.search("@") == -1 
	//  //    				// || email.lastIndexOf(".") == -1) {
	//  //  #2	if (email.search(/@/)
	//  // 		== -1 || email.lastIndexOf(".") == -1) {
	//  #3 if (/@/.test(email) == false
	//  	|| /\....$/.test(email) == false) {
	var emailCheck = /^[_\w\-]+(\.[_\w\-]+)*@[\w\-]+(\.[\w\-]+)*(\.[\D]{2,3})$/;
	if (emailCheck.test(email) == false) {
	window.alert("One or more of the e-mail addresses you entered does not appear to be valid.");
	return false;
	}
	formObject.value = email.toLowerCase();
	return true;
}
function compareAddresses(senderObject,
	recipientObject) {
	var senderEmail = senderObject.value;
	var recipientEmail = recipientObject.value;
	senderEmail = senderEmail.toLowerCase();
	recipientEmail = recipientEmail.toLowerCase();
	if (senderEmail.localeCompare(recipientEmail)
		== 0) {
		window.alert("You entered the same e-mail address for sender and recipient.");
		return false;
	}
	else 
		return true;
	}
function addRecipient() {
	if (document.forms[0].recipient_name.value == "" || document.forms[0].recipient_email.value == "")
		window.alert("You must enter the recipient's name and e-mail address.");
	else {
		retValue = validateEmail(document.forms[0].recipient_email);
		if (retValue == false)
			return retValue;
		if (document.forms[0].recipients.options[0] 
		&& document.forms[0].recipients.options[0].value == "recipients")
		document.forms[0].recipients.options[0] = null;
	// // 	var nextRecipient = document.forms[0].recipients.options.length;
	// // 	var createRecipient = new Option(
	// //	document.forms[0].recipient_name.value + ", " + 
	// // 	document.forms[0].recipient_email.value);
	// // 	document.forms[0].recipients.options[nextRecipient] = createRecipient;
		var recipientsArray = new Array();
		for (var i=0; i < document.forms[0].recipients.options.length; ++i) {
		recipientsArray.push(document.forms[0].recipients.options[i].value);
		}
		recipientsArray.push(document.forms[0].recipient_name.value + ", " 
			+ document.forms[0].recipient_email.value);
		for (var j=0; j<recipientsArray.length; ++j) {
			var createRecipient = new Option(
				recipientsArray[j], recipientsArray[j]);
			document.forms[0].recipients.options[j] = createRecipient;
			}
		}
}
function deleteRecipient() {
	// // var selectedIndex = document.forms[0].recipients.selectedIndex;
	// // document.forms[0].recipients.remove(selectedIndex);
	var recipientsArray = new Array();
	for (var i=0; i < document.forms[0].recipients.options.length; ++i) {
		recipientsArray.push(document.forms[0].recipients.options[i].value);
		}
	if(document.forms[0].recipients.selectedIndex == 0)
		recipientsArray.shift();
	else if (document.forms[0].recipients.selectedIndex == 
		document.forms[0].recipients.options.length-1)
		recipientsArray.pop();
	else recipientsArray.splice(document.forms[0].recipients.selectedIndex, 1);
	document.forms[0].recipients.options.length = 0;
	for (var j=0; j<recipientsArray.length; ++j) {
		var createRecipient = new Option(
			recipientsArray[j], recipientsArray[j]);
		document.forms[0].recipients.options[j] = createRecipient;
		}
}

		</script>
<!--automatically lowercases both emails, checkes things filled in emails, subject message, 2. checks addresses have @ and ".", 3. checks if emails are same,  4. subject line is less than 40 characters. 
-->
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
</head>
<body>
    <table cellpadding="0" cellspacing="0" border="0">
        <tr>
            <td width="260" height="100%" valign="top">
                <table cellpadding="0" cellspacing="0" border="0">
                    <tr>
                        <td colspan="2">
                            <img src="images/namesp1.jpg" alt="Visual formatting image" /></td>
                    </tr>
                    <tr>
                        <td>
                            <table cellpadding="0" cellspacing="0" border="0">
                                <tr>
                                    <td><a href="">
                                        <img src="images/inbox.jpg" border="0" alt="Visual formatting image" /></a></td>
                                </tr>
                                <tr>
                                    <td><a href="">
                                        <img src="images/outbox.jpg" border="0" alt="Visual formatting image" /></a>
                                    </td>
                                </tr>
                                <tr>
                                    <td><a href="">
                                        <img src="images/draft.jpg" border="0" alt="Visual formatting image" /></a></td>
                                </tr>
                                <tr>
                                    <td><a href="">
                                        <img src="images/sent.jpg" border="0" alt="Visual formatting image" /></a></td>
                                </tr>
                                <tr>
                                    <td><a href="">
                                        <img src="images/deleted.jpg" border="0" alt="Visual formatting image" /></a>
                                    </td>
                                </tr>
                            </table>
                        </td>
                        <td width="96" height="204" valign="top" align="center" style="background-image: url('images/bgmessages.jpg');
                            padding-top: 55px; padding-right: 35px; color: #C10017"><font size="4"><b>18</b></font><br />
                            new messages</td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <img src="images/best.jpg" alt="Visual formatting image" /></td>
                    </tr>
                    <tr>
                        <td height="100%"></td>
                    </tr>
                </table>
            </td>
            <td valign="top" height="100%" width="520" bgcolor="#ffffff">
                <table cellpadding="0" cellspacing="0" border="0">
                    <tr>
                        <td>
                            <img src="images/topsp1.jpg" alt="Visual formatting image" /></td>
                    </tr>
                    <tr>
                        <td width="100%" height="30" style="background-image: url('images/bgdatesp1.gif');">
                            <table>
                                <tr>
                                    <td style="color: #ffffff">You've used 35% of your 10Mb limit</td>
                                    <td style="padding-left: 5px;">
                                        <img src="images/line.gif" alt="Visual formatting image" /></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr>
                        <td height="100%" valign="top" style="padding-top: 7px; padding-left: 11px;">
<!--form###############-->                         
						 <form action="FormProcessor.html" method="get" onsubmit="return validateSubmission()">
                            <table>
                                <tr>
                                    <td valign="top">
                                        <h2>
                                            Sender</h2>
                                        <p>
                                            Name<br />
                                            <input type="text" name="sender_name" size="30" /></p>
                                        <p>
                                            E-Mail Address<br />
                                            <input type="text" name="sender_email" size="30" /></p>
                                        <h2>
                                            Recipients</h2>
                                        <p>
                                            Name<br />
                                            <input type="text" name="recipient_name" size="30" /></p>
                                        <p>
                                            E-Mail Address<br />
                                            <input type="text" name="recipient_email" size="30" /></p>
										<p><input type="button" value="Add" onclick="addRecipient()" />&nbsp;
										<input type="button" value="Remove" onclick="deleteRecipient()" />&nbsp;
										<input type="button" value="Update" onclick="updateSelectedRecipient()" /></p>
										<select name="recipients" size="4" style="width: 200px"
										<option value="recipients">Recipients</option>
										</select>
                                    </td>
                                    <td valign="top">
                                        <h2>
                                            Message Details</h2>
                                        <p>
                                            Subject<br />
                                            <input type="text" name="subject" size="42" /></p>
                                        <p>
                                            Message<br />
                                            <textarea name="message" rows="14" cols="32"></textarea></p>
                                        <p style="text-align: center">
                                            <input type="submit" value="Send" /><input type="reset" />
                                            <input type="hidden" name="recipientsList" /></p>
                                    </td>
                                </tr>
                            </table>
                            </form>
                        </td>
                    </tr>
                </table>
            </td>
            <td width="100%" style="background-image: url('images/tilesp1.gif'); background-repeat: repeat-x">
            </td>
        </tr>
        <tr>
            <td colspan="2" width="780" height="30" style="background-image: url('images/bgm.gif')"
                align="center" class="menu"><a href="" class="menu">Sign up!</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a
                    href="" class="menu">About us</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="" class="menu">FAQ</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a
                        href="" class="menu">Help</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="" class="menu">Virus
                            protection</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="" class="menu">Partners</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a
                                href="" class="menu">Contact us</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="" class="menu">Languages</a>
            </td>
            <td width="100%" style="background-image: url('images/bgm.gif');"></td>
        </tr>
        <tr>
            <td colspan="2" width="780" height="50" style="background-image: url('images/bgf.gif');
                color: #ffffff; padding-left: 25px;">Copyright &copy; 2008-2010 <b>MyMailWebPortal.com</b>.<br />
                All rights reserved. &bull; <a href="" style="color: #ffffff; text-decoration: none;">
                    Privacy Policy</a> &bull; <a href="" style="color: #ffffff; text-decoration: none;">
                        Terms Of Use</a> </td>
            <td width="100%" style="background-image: url('images/bgf.gif');"></td>
        </tr>
    </table>
</body>
</html>
